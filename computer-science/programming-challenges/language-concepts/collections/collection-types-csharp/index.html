<!doctype html><html lang=en><head><title>Collection Types in C# | curiosities.dev</title><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo (https://gohugo.io/)"><meta name=description content="Choosing a Collection Type In summary, the use cases are:
 Dictionary<TKey, TValue> for quick look-up by key. List<T> for accessing items by index. Queue<T> for first-in-first-out (FIFO) access where the element is discarded after use. Stack<T> for last-in-first-out (LIFO) access where the element is discarded after use. LinkedList<T> for sequential access from either the head or the tail. ObservableCollection<T> to receive notifications when items are removed/added. SortedList<TKey, TValue> for a collection sorted by keys and accessible by either key or index...."><meta property="og:title" content="Collection Types in C#"><meta property="og:description" content="Choosing a Collection Type In summary, the use cases are:
 Dictionary<TKey, TValue> for quick look-up by key. List<T> for accessing items by index. Queue<T> for first-in-first-out (FIFO) access where the element is discarded after use. Stack<T> for last-in-first-out (LIFO) access where the element is discarded after use. LinkedList<T> for sequential access from either the head or the tail. ObservableCollection<T> to receive notifications when items are removed/added. SortedList<TKey, TValue> for a collection sorted by keys and accessible by either key or index...."><meta property="og:type" content="website"><meta property="og:url" content="https://www.curiosities.dev/computer-science/programming-challenges/language-concepts/collections/collection-types-csharp/"><meta property="og:site_name" content="curiosities.dev"><link rel=stylesheet type=text/css href=/css/main.min.css><link rel=preload href=/css/all_font_awesome_v5.9.min.min.css as=style onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel=stylesheet href=/css/all_font_awesome_v5.9.min.min.css></noscript><link rel="shortcut icon" href=/img/favicon_io/favicon.ico><link rel=apple-touch-icon sizes=180x180 href=/img/favicon_io/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/img/favicon_io/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/img/favicon_io/favicon-16x16.png><script async type=text/javascript src=/js/OrganizeCitations.min.js></script><script async type=text/javascript src=/js/HighlightAnchor.min.js></script><script async type=text/javascript src=/js/SummaryPageUtils.min.js></script><link rel=preload href=/css/vs.min.css as=style onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel=stylesheet href=/css/vs.min.css></noscript><script defer type=text/javascript src=/js/highlight.min.min.js onload=addURLHighlighter();></script><script defer>const hjlsURLRegex=/https?:\/\/[^\s<]+/g
const hjlsCitationRegex=/&lt;span class=&quot;citation-ref&quot;&gt;&lt;a href=&quot;(.*)&quot;&gt;&lt;\/a&gt;&lt;\/span&gt;/g
function addURLHighlighter(){hljs.addPlugin({"after:highlight":(result)=>{result.value=result.value.replaceAll(hjlsURLRegex,"<a href='$&' target='_blank'>$&</a>");console.log(result.value);result.value=result.value.replaceAll(hjlsCitationRegex,"<span class='citation-ref'><a href='$1'></a></span>");}});hljs.highlightAll();}</script><script type=text/javascript async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML"></script></head><body><div class=container id=main_div><form action=/search method=get id=globalSearchForm><input type=text id=q name=q title="Search Query">
<input type=submit id=submitButton value=Search></form><nav aria-label=Breadcrumb class=breadcrumb><ul><li><a href=https://www.curiosities.dev/>Home</a></li><li><a href=https://www.curiosities.dev/computer-science/>Computer Science & Software Engineering</a></li><li><a href=https://www.curiosities.dev/computer-science/programming-challenges/>Programming Challenges</a></li><li><a href=https://www.curiosities.dev/computer-science/programming-challenges/language-concepts/>Language Concepts</a></li><li><a href=https://www.curiosities.dev/computer-science/programming-challenges/language-concepts/collections/>Collections</a></li><li class=active><a href=https://www.curiosities.dev/computer-science/programming-challenges/language-concepts/collections/collection-types-csharp/>Collection Types in C#</a></li></ul></nav><section><header><h1>Collection Types in C#</h1><p class=meta>Dated Sep 6, 2025;
last modified on Sat, 06 Sep 2025</p></header><div id=toc-then-article><aside id=toc><nav id=TableOfContents><ul><li><a href=#choosing-a-collection-type>Choosing a Collection Type</a></li><li><a href=#array-and-arraylist><code>Array</code> and <code>ArrayList</code></a></li><li><a href=#immutability>Immutability</a></li><li><a href=#thread-safety>Thread-Safety</a></li><li><a href=#string-considerations>String Considerations</a></li><li><a href=#sorted-collections>Sorted Collections</a></li><li><a href=#references>References</a></li></ul></nav></aside><article id=main-article><h2 id=choosing-a-collection-type>Choosing a Collection Type</h2><p>In summary, the use cases are:</p><ul><li><code>Dictionary&lt;TKey, TValue></code> for quick look-up by key.</li><li><code>List&lt;T></code> for accessing items by index.</li><li><code>Queue&lt;T></code> for first-in-first-out (FIFO) access where the element is
discarded after use.</li><li><code>Stack&lt;T></code> for last-in-first-out (LIFO) access where the element is discarded
after use.</li><li><code>LinkedList&lt;T></code> for sequential access from either the head or the tail.</li><li><code>ObservableCollection&lt;T></code> to receive notifications when items are
removed/added.</li><li><code>SortedList&lt;TKey, TValue></code> for a collection sorted by keys and accessible by
either key or index.</li><li><code>HashSet&lt;T></code> and <code>SortedSet&lt;T></code> for a set for mathematical functions.</li><li><code>KeyedCollection&lt;TKey, TItem></code> for items that have keys embedded in them; a
hybrid between <code>IList&lt;T></code> and <code>IDictionary&lt;TKey, TValue></code>.</li></ul><p><span class=citation-ref><a href=#CollectionsAndDataStructures></a></span><span class=citation-ref><a href=#SelectingACollection></a></span></p><h2 id=array-and-arraylist><code>Array</code> and <code>ArrayList</code></h2><p><code>Array</code>, e.g., <code>int[]</code>, is the base class for language implementations that
support arrays. It&rsquo;s zero-indexed by default, but can have any lower bound. It
can have at most 32 dimensions. Unlike classes in <code>System.Collections</code>, an
<code>Array</code> has a fixed capacity; to increase capacity, you must manually create a
new <code>Array</code> with the required capacity and move things over. At runtime, single
dimensional arrays implement <code>IList&lt;T></code>, <code>ICollection&lt;T></code>, <code>IEnumerable&lt;T></code>,
<code>IReadOnlyList&lt;T></code>, and <code>IReadOnlyCollection&lt;T></code>. Note that casting an array to
one of these interfaces and then trying to add/remove elements will throw
<code>NotSupportedException</code>. <span class=citation-ref><a href=#Array></a></span></p><p><code>ArrayList</code> implements <code>IList</code> using an <code>Array</code> whose size is dynamically
increased as required. The generic counterpart is <code>List&lt;T></code>. <span class=citation-ref><a href=#ArrayList></a></span></p><h2 id=immutability>Immutability</h2><p><code>System.Collections.Generic</code>&rsquo;s <code>IReadOnlyCollection&lt;T></code> interface is derived by
interfaces like <code>System.Collections.Generic.IReadOnly*&lt;T></code> and
<code>System.Collections.Immutable.Immutable*&lt;T></code>. <span class=citation-ref><a href=#GenericIReadOnlyCollection></a></span></p><p><code>IReadOnlyList&lt;T></code> is read-only in the number and order of elements; the
contents of the contained elements are not guaranteed to be read-only. <span class=citation-ref><a href=#GenericIReadOnlyList></a></span>Compare this to <code>ImmutableList&lt;T></code> where any mutation
operation, even <code>ImmutableList&lt;T>.SetItem(Int32, T)</code>, returns a new
<code>ImmutableList&lt;T></code>. <span class=citation-ref><a href=#GenericImmutableList></a></span></p><p>When building immutable collections, call <code>CreateBuilder</code> to get a <code>Builder</code>
object so that you can batch operations in a mutable state. When all mutations
have been completed, call <code>ToImmutable()</code> to &ldquo;freeze&rdquo; all nodes and create an
immutable collection. <span class=citation-ref><a href=#UsingGenericCollections></a></span></p><p>Enumerating an <code>ImmutableList&lt;T></code> is less efficient than enumerating a <code>List&lt;T></code>
because <code>ImmutableList&lt;T></code>&rsquo;s indexer is \(\mathcal{O}(log(n))\) for traversing
the underlying binary tree. <span class=citation-ref><a href=#CollectionsAndDataStructures></a></span></p><h2 id=thread-safety>Thread-Safety</h2><p>Collections from <code>System.Collections.Concurrent</code> are type-safe, thread-safe, and
scalable, e.g., <code>BlockingCollection&lt;T></code>, <code>ConcurrentDictionary&lt;TKey, TValue></code>,
<code>ConcurrentQueue&lt;T></code>, <code>ConcurrentStack&lt;T></code>, <code>ConcurrentBag&lt;T></code>, and
<code>IProducerConsumerCollection&lt;T></code>. <span class=citation-ref><a href=#ThreadSafeCollections></a></span></p><p>Collections from the <code>System.Collections.Immutable</code> namespace are inherently
thread-safe because operations act on copies of the data. <span class=citation-ref><a href=#CollectionsAndDataStructures></a></span></p><h2 id=string-considerations>String Considerations</h2><p>By default, comparisons and sorts in <code>System.Collections</code> are culture-aware,
which may lead to inconsistent comparisons. To remedy this, provide a
<code>StringComparer</code>, e.g., <code>StringComparer.OrdinalIgnoreCase</code> <span class=citation-ref><a href=#StringComparer></a></span>.</p><p><code>System.Collections.Specialized</code> contains strongly typed collections like
<code>StringCollection</code>, <code>StringDictionary</code>, and <code>NameValueCollection</code>. <span class=citation-ref><a href=#System.Collections.Specialized></a></span></p><div class=comment-holder><div class="comment open-comment"><p>What optimizations do they have over <code>List&lt;String></code> and <code>Dictionary&lt;String, String></code>?</p></div></div><h2 id=sorted-collections>Sorted Collections</h2><p><code>SortedList&lt;TKey, TValue></code> and <code>SortedDictionary&lt;TKey, TValue></code> both have
\(\mathcal{O}(log(n))\) retrieval. However, <code>SortedList&lt;TKey, TValue></code> uses
less memory. <code>SortedList&lt;TKey, TValue></code> has \(\mathcal{O}(n)\) insertion and
removal for unsorted data compared to <code>SortedDictionary&lt;TKey, TValue></code>&rsquo;s
\(\mathcal{O}(log(n))\). However, if the list is populated at once from sorted
data, then <code>SortedList&lt;TKey, TValue></code> is faster. The collections returned by
<code>Keys</code> and <code>Values</code> properties for <code>SortedList&lt;TKey, TValue></code> are just wrappers
around the internal arrays and thus do not need regeneration. <span class=citation-ref><a href=#GenericSortedList></a></span></p><h2 id=references>References</h2><ol><li><div class=citation citation-icon-class="fas fa-fw fa-globe" cited-by-count is-main><cite id=CollectionsAndDataStructures>Collections and Data Structures - .NET | Microsoft Learn<i>.</i></cite>
<a href=https://learn.microsoft.com/en-us/dotnet/standard/collections/ target=_blank rel=noopener><img src="https://www.google.com/s2/favicons?domain=learn.microsoft.com" loading=lazy aria-hidden=true width=16 height=16>
<i>learn.microsoft.com</i> <i class="fas fa-fw fa-external-link-alt" aria-hidden=true></i></a>.
<i class="fas fa-fw fa-globe" aria-hidden=true></i>Accessed Sep 6, 2025.</div></li><li><div class=citation citation-icon-class="fas fa-fw fa-globe" cited-by-count is-main><cite id=SelectingACollection>Selecting a Collection Class - .NET | Microsoft Learn<i>.</i></cite>
<a href=https://learn.microsoft.com/en-us/dotnet/standard/collections/selecting-a-collection-class target=_blank rel=noopener><img src="https://www.google.com/s2/favicons?domain=learn.microsoft.com" loading=lazy aria-hidden=true width=16 height=16>
<i>learn.microsoft.com</i> <i class="fas fa-fw fa-external-link-alt" aria-hidden=true></i></a>.
<i class="fas fa-fw fa-globe" aria-hidden=true></i>Accessed Sep 6, 2025.</div></li><li><div class=citation citation-icon-class="fas fa-fw fa-globe" cited-by-count is-main><cite id=Array>Array Class (System) | Microsoft Learn<i>.</i></cite>
<a href="https://learn.microsoft.com/en-us/dotnet/api/system.array?view=net-9.0" target=_blank rel=noopener><img src="https://www.google.com/s2/favicons?domain=learn.microsoft.com" loading=lazy aria-hidden=true width=16 height=16>
<i>learn.microsoft.com</i> <i class="fas fa-fw fa-external-link-alt" aria-hidden=true></i></a>.
<i class="fas fa-fw fa-globe" aria-hidden=true></i>Accessed Sep 6, 2025.</div></li><li><div class=citation citation-icon-class="fas fa-fw fa-globe" cited-by-count is-main><cite id=ArrayList>ArrayList Class (System.Collections) | Microsoft Learn<i>.</i></cite>
<a href="https://learn.microsoft.com/en-us/dotnet/api/system.collections.arraylist?view=net-9.0" target=_blank rel=noopener><img src="https://www.google.com/s2/favicons?domain=learn.microsoft.com" loading=lazy aria-hidden=true width=16 height=16>
<i>learn.microsoft.com</i> <i class="fas fa-fw fa-external-link-alt" aria-hidden=true></i></a>.
<i class="fas fa-fw fa-globe" aria-hidden=true></i>Accessed Sep 6, 2025.</div></li><li><div class=citation citation-icon-class="fas fa-fw fa-globe" cited-by-count is-main><cite id=System.Collections.Specialized>System.Collections.Specialized Namespace | Microsoft Learn<i>.</i></cite>
<a href="https://learn.microsoft.com/en-us/dotnet/api/system.collections.specialized?view=net-9.0" target=_blank rel=noopener><img src="https://www.google.com/s2/favicons?domain=learn.microsoft.com" loading=lazy aria-hidden=true width=16 height=16>
<i>learn.microsoft.com</i> <i class="fas fa-fw fa-external-link-alt" aria-hidden=true></i></a>.
<i class="fas fa-fw fa-globe" aria-hidden=true></i>Accessed Sep 6, 2025.</div></li><li><div class=citation citation-icon-class="fas fa-fw fa-globe" cited-by-count is-main><cite id=GenericSortedList>SortedList&lt;TKey,TValue> Class (System.Collections.Generic) | Microsoft Learn<i>.</i></cite>
<a href="https://learn.microsoft.com/en-us/dotnet/api/system.collections.generic.sortedlist-2?view=net-9.0" target=_blank rel=noopener><img src="https://www.google.com/s2/favicons?domain=learn.microsoft.com" loading=lazy aria-hidden=true width=16 height=16>
<i>learn.microsoft.com</i> <i class="fas fa-fw fa-external-link-alt" aria-hidden=true></i></a>.
<i class="fas fa-fw fa-globe" aria-hidden=true></i>Accessed Sep 6, 2025.</div></li><li><div class=citation citation-icon-class="fas fa-fw fa-globe" cited-by-count is-main><cite id=UsingGenericCollections>When to Use Generic Collections - .NET | Microsoft Learn<i>.</i></cite>
<a href=https://learn.microsoft.com/en-us/dotnet/standard/collections/when-to-use-generic-collections target=_blank rel=noopener><img src="https://www.google.com/s2/favicons?domain=learn.microsoft.com" loading=lazy aria-hidden=true width=16 height=16>
<i>learn.microsoft.com</i> <i class="fas fa-fw fa-external-link-alt" aria-hidden=true></i></a>.
<i class="fas fa-fw fa-globe" aria-hidden=true></i>Accessed Sep 6, 2025.</div></li><li><div class=citation citation-icon-class="fas fa-fw fa-globe" cited-by-count is-main><cite id=StringComparer>StringComparer Class (System) | Microsoft Learn<i>.</i></cite>
<a href="https://learn.microsoft.com/en-us/dotnet/api/system.stringcomparer?view=net-9.0" target=_blank rel=noopener><img src="https://www.google.com/s2/favicons?domain=learn.microsoft.com" loading=lazy aria-hidden=true width=16 height=16>
<i>learn.microsoft.com</i> <i class="fas fa-fw fa-external-link-alt" aria-hidden=true></i></a>.
<i class="fas fa-fw fa-globe" aria-hidden=true></i>Accessed Sep 6, 2025.</div></li><li><div class=citation citation-icon-class="fas fa-fw fa-globe" cited-by-count is-main><cite id=ThreadSafeCollections>Thread-Safe collections - .NET | Microsoft Learn<i>.</i></cite>
<a href=https://learn.microsoft.com/en-us/dotnet/standard/collections/thread-safe/ target=_blank rel=noopener><img src="https://www.google.com/s2/favicons?domain=learn.microsoft.com" loading=lazy aria-hidden=true width=16 height=16>
<i>learn.microsoft.com</i> <i class="fas fa-fw fa-external-link-alt" aria-hidden=true></i></a>.
<i class="fas fa-fw fa-globe" aria-hidden=true></i>Accessed Sep 6, 2025.</div></li><li><div class=citation citation-icon-class="fas fa-fw fa-globe" cited-by-count is-main><cite id=GenericIReadOnlyCollection>IReadOnlyCollection&lt;T> Interface (System.Collections.Generic) | Microsoft Learn<i>.</i></cite>
<a href="https://learn.microsoft.com/en-us/dotnet/api/system.collections.generic.ireadonlycollection-1?view=net-9.0" target=_blank rel=noopener><img src="https://www.google.com/s2/favicons?domain=learn.microsoft.com" loading=lazy aria-hidden=true width=16 height=16>
<i>learn.microsoft.com</i> <i class="fas fa-fw fa-external-link-alt" aria-hidden=true></i></a>.
<i class="fas fa-fw fa-globe" aria-hidden=true></i>Accessed Sep 13, 2025.</div></li><li><div class=citation citation-icon-class="fas fa-fw fa-globe" cited-by-count is-main><cite id=GenericIReadOnlyList>IReadOnlyList&lt;T> Interface (System.Collections.Generic) | Microsoft Learn<i>.</i></cite>
<a href="https://learn.microsoft.com/en-us/dotnet/api/system.collections.generic.ireadonlylist-1?view=net-9.0" target=_blank rel=noopener><img src="https://www.google.com/s2/favicons?domain=learn.microsoft.com" loading=lazy aria-hidden=true width=16 height=16>
<i>learn.microsoft.com</i> <i class="fas fa-fw fa-external-link-alt" aria-hidden=true></i></a>.
<i class="fas fa-fw fa-globe" aria-hidden=true></i>Accessed Sep 13, 2025.</div></li><li><div class=citation citation-icon-class="fas fa-fw fa-globe" cited-by-count is-main><cite id=GenericImmutableList>ImmutableList&lt;T> Class (System.Collections.Immutable) | Microsoft Learn<i>.</i></cite>
<a href="https://learn.microsoft.com/en-us/dotnet/api/system.collections.immutable.immutablelist-1?view=net-9.0" target=_blank rel=noopener><img src="https://www.google.com/s2/favicons?domain=learn.microsoft.com" loading=lazy aria-hidden=true width=16 height=16>
<i>learn.microsoft.com</i> <i class="fas fa-fw fa-external-link-alt" aria-hidden=true></i></a>.
<i class="fas fa-fw fa-globe" aria-hidden=true></i>Accessed Sep 13, 2025.</div></li></ol></article><div style=font-size:smaller><aside id=domains-holder style="margin:0 0 2%">Cited Domains:
<a href=/domains/learn.microsoft.com style="margin:0 2px"><img src="https://www.google.com/s2/favicons?domain=learn.microsoft.com" loading=lazy aria-hidden=true width=16 height=16>
learn.microsoft.com</a></aside></div></div><footer><a href=https://www.curiosities.dev/computer-science/programming-challenges/language-concepts/collections/generic-and-non-generic-collections-csharp/>Generic and Non-Generic Collection Interfaces in C# &#187;</a></footer></section></div><footer><a href=/about>About</a>
<a href=/search>Search</a></footer></body></html>