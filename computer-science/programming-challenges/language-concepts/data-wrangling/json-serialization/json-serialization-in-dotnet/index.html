<!doctype html><html lang=en><head><title>JSON Serialization in .NET | curiosities.dev</title><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo (https://gohugo.io/)"><meta name=description content="Serialization converts the state of an object (the value of its properties) into a form that can be stored/transmitted. The serialized form doesn&rsquo;t include any information about an object&rsquo;s associated methods. 
System.Text.Json emphasizes high performance and low memory allocation over an extensive feature set. It has built-in UTF-8 support because UTF-8 is the most prevalent encoding for data on the web and files on disk. 
How to Serialize and Deserialize ...."><meta property="og:title" content="JSON Serialization in .NET"><meta property="og:description" content="Serialization converts the state of an object (the value of its properties) into a form that can be stored/transmitted. The serialized form doesn&rsquo;t include any information about an object&rsquo;s associated methods. 
System.Text.Json emphasizes high performance and low memory allocation over an extensive feature set. It has built-in UTF-8 support because UTF-8 is the most prevalent encoding for data on the web and files on disk. 
How to Serialize and Deserialize ...."><meta property="og:type" content="website"><meta property="og:url" content="https://www.curiosities.dev/computer-science/programming-challenges/language-concepts/data-wrangling/json-serialization/json-serialization-in-dotnet/"><meta property="og:site_name" content="curiosities.dev"><link rel=stylesheet type=text/css href=/css/main.min.css><link rel=preload href=/css/all_font_awesome_v5.9.min.min.css as=style onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel=stylesheet href=/css/all_font_awesome_v5.9.min.min.css></noscript><link rel="shortcut icon" href=/img/favicon_io/favicon.ico><link rel=apple-touch-icon sizes=180x180 href=/img/favicon_io/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/img/favicon_io/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/img/favicon_io/favicon-16x16.png><script async type=text/javascript src=/js/OrganizeCitations.min.js></script><script async type=text/javascript src=/js/HighlightAnchor.min.js></script><script async type=text/javascript src=/js/SummaryPageUtils.min.js></script><link rel=preload href=/css/vs.min.css as=style onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel=stylesheet href=/css/vs.min.css></noscript><script defer type=text/javascript src=/js/highlight.min.min.js onload=addURLHighlighter();></script><script defer>const hjlsURLRegex=/https?:\/\/[^\s<]+/g
const hjlsCitationRegex=/&lt;span class=&quot;citation-ref&quot;&gt;&lt;a href=&quot;(.*)&quot;&gt;&lt;\/a&gt;&lt;\/span&gt;/g
function addURLHighlighter(){hljs.addPlugin({"after:highlight":(result)=>{result.value=result.value.replaceAll(hjlsURLRegex,"<a href='$&' target='_blank'>$&</a>");console.log(result.value);result.value=result.value.replaceAll(hjlsCitationRegex,"<span class='citation-ref'><a href='$1'></a></span>");}});hljs.highlightAll();}</script></head><body><div class=container id=main_div><form action=/search method=get id=globalSearchForm><input type=text id=q name=q title="Search Query">
<input type=submit id=submitButton value=Search></form><nav aria-label=Breadcrumb class=breadcrumb><ul><li><a href=https://www.curiosities.dev/>Home</a></li><li><a href=https://www.curiosities.dev/computer-science/>Computer Science & Software Engineering</a></li><li><a href=https://www.curiosities.dev/computer-science/programming-challenges/>Programming Challenges</a></li><li><a href=https://www.curiosities.dev/computer-science/programming-challenges/language-concepts/>Language Concepts</a></li><li><a href=https://www.curiosities.dev/computer-science/programming-challenges/language-concepts/data-wrangling/>Data Wrangling</a></li><li><a href=https://www.curiosities.dev/computer-science/programming-challenges/language-concepts/data-wrangling/json-serialization/>JSON Serialization</a></li><li class=active><a href=https://www.curiosities.dev/computer-science/programming-challenges/language-concepts/data-wrangling/json-serialization/json-serialization-in-dotnet/>JSON Serialization in .NET</a></li></ul></nav><section><header><h1>JSON Serialization in .NET</h1><p class=meta>Dated Jul 5, 2025;
last modified on Sat, 05 Jul 2025</p></header><div id=toc-then-article><aside id=toc><nav id=TableOfContents><ul><li><a href=#how-to-serialize-and-deserialize-net-objects>How to Serialize and Deserialize .NET Objects</a></li><li><a href=#how-to-deserialize-with-required-properties>How to Deserialize with Required Properties</a></li><li><a href=#how-to-customize-property-names-and-values>How to Customize Property Names and Values</a></li><li><a href=#how-to-exclude-properties>How to Exclude Properties</a></li><li><a href=#how-to-include-fields>How to Include Fields</a></li><li><a href=#reflection-vs-source-generation>Reflection vs. Source Generation</a></li><li><a href=#references>References</a></li></ul></nav></aside><article id=main-article><p>Serialization converts the state of an object (the value of its properties) into
a form that can be stored/transmitted. The serialized form doesn&rsquo;t include any
information about an object&rsquo;s associated methods. <span class=citation-ref><a href=#JsonSerializationOverview></a></span></p><p><code>System.Text.Json</code> emphasizes high performance and low memory allocation over an
extensive feature set. It has built-in UTF-8 support because UTF-8 is the most
prevalent encoding for data on the web and files on disk. <span class=citation-ref><a href=#JsonSerializationOverview></a></span></p><h2 id=how-to-serialize-and-deserialize-net-objects>How to Serialize and Deserialize .NET Objects</h2><p>To write JSON to a string, call <code>JsonSerializer.Serialize</code>. To read from a JSON
string, call <code>JsonSerializer.Deserialize&lt;T></code>. For example:</p><div class=highlight><pre style=color:#272822;background-color:#fafafa;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-cs data-lang=cs><span style=color:#111>Foo</span> <span style=color:#111>foo</span> <span style=color:#111>=</span> <span style=color:#00a8c8>new</span><span style=color:#111>(</span><span style=color:#ae81ff>1</span><span style=color:#111>,</span> <span style=color:#d88200>&#34;two&#34;</span><span style=color:#111>);</span>

<span style=color:#00a8c8>var</span> <span style=color:#111>jsonStr</span> <span style=color:#111>=</span> <span style=color:#111>JsonSerializer</span><span style=color:#111>.</span><span style=color:#111>Serialize</span><span style=color:#111>(</span><span style=color:#111>foo</span><span style=color:#111>);</span>
<span style=color:#111>Console</span><span style=color:#111>.</span><span style=color:#111>WriteLine</span><span style=color:#111>(</span><span style=color:#111>jsonStr</span><span style=color:#111>);</span> <span style=color:#75715e>// {&#34;s&#34;:&#34;two&#34;,&#34;n&#34;:1}
</span><span style=color:#75715e></span>
<span style=color:#00a8c8>var</span> <span style=color:#111>roundTripSuccess</span> <span style=color:#111>=</span> <span style=color:#111>JsonSerializer</span><span style=color:#111>.</span><span style=color:#111>Deserialize</span><span style=color:#111>&lt;</span><span style=color:#111>Foo</span><span style=color:#111>&gt;(</span><span style=color:#111>jsonStr</span><span style=color:#111>)</span> <span style=color:#111>==</span> <span style=color:#111>foo</span><span style=color:#111>;</span>
<span style=color:#111>Console</span><span style=color:#111>.</span><span style=color:#111>WriteLine</span><span style=color:#111>(</span><span style=color:#111>roundTripSuccess</span><span style=color:#111>);</span> <span style=color:#75715e>// True 
</span><span style=color:#75715e></span>
<span style=color:#00a8c8>abstract</span> <span style=color:#111>record</span> <span style=color:#111>Base</span><span style=color:#111>(</span><span style=color:#00a8c8>int</span> <span style=color:#111>n</span><span style=color:#111>);</span>
<span style=color:#111>record</span> <span style=color:#111>Foo</span><span style=color:#111>(</span><span style=color:#00a8c8>int</span> <span style=color:#111>n</span><span style=color:#111>,</span> <span style=color:#00a8c8>string</span> <span style=color:#111>s</span><span style=color:#111>):</span> <span style=color:#111>Base</span><span style=color:#111>(</span><span style=color:#111>n</span><span style=color:#111>);</span>
</code></pre></div><p><code>JsonSerializer.Serialize&lt;Base>(foo)</code> only serializes properties in <code>Base</code>,
i.e., <code>{"n":1}</code>. When deserializing, any properties not represented in your <code>T</code>
are ignored by default. <span class=citation-ref><a href=#HowToSerialize></a></span><span class=citation-ref><a href=#HowToDeserialize></a></span></p><div class=comment-holder><div class=comment><p>Using <code>JsonSerializer.Serialize&lt;T>(foo)</code> where <code>Foo</code> cannot be converted to a
<code>T</code> leads to a compiler error.</p></div></div><p>One can also serialize to and deserialize from a file using
<code>JsonSerializer.SerializeAsync</code> and <code>JsonSerializer.DeserializeAsync&lt;T></code>,
respectively, e.g.,</p><div class=highlight><pre style=color:#272822;background-color:#fafafa;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-cs data-lang=cs><span style=color:#00a8c8>string</span> <span style=color:#111>fileName</span> <span style=color:#111>=</span> <span style=color:#d88200>&#34;my-data.json&#34;</span><span style=color:#111>;</span>

<span style=color:#00a8c8>await</span> <span style=color:#00a8c8>using</span> <span style=color:#111>FileStream</span> <span style=color:#111>outputStream</span> <span style=color:#111>=</span> <span style=color:#111>File</span><span style=color:#111>.</span><span style=color:#111>Create</span><span style=color:#111>(</span><span style=color:#111>fileName</span><span style=color:#111>);</span>
<span style=color:#00a8c8>await</span> <span style=color:#111>JsonSerializer</span><span style=color:#111>.</span><span style=color:#111>SerializeAsync</span><span style=color:#111>(</span><span style=color:#111>outputStream</span><span style=color:#111>,</span> <span style=color:#111>foo</span><span style=color:#111>);</span>

<span style=color:#00a8c8>await</span> <span style=color:#00a8c8>using</span> <span style=color:#111>FileStream</span> <span style=color:#111>inputStream</span> <span style=color:#111>=</span> <span style=color:#111>File</span><span style=color:#111>.</span><span style=color:#111>OpenRead</span><span style=color:#111>(</span><span style=color:#111>fileName</span><span style=color:#111>);</span>
<span style=color:#111>Foo</span><span style=color:#111>?</span> <span style=color:#111>foo</span> <span style=color:#111>=</span> <span style=color:#00a8c8>await</span> <span style=color:#111>JsonSerializer</span><span style=color:#111>.</span><span style=color:#111>DeserializeAsync</span><span style=color:#111>&lt;</span><span style=color:#111>Foo</span><span style=color:#111>&gt;(</span><span style=color:#111>inputStream</span><span style=color:#111>);</span>
</code></pre></div><div class=comment-holder><div class="comment open-comment"><p>There exist synchronous APIs as well, e.g., <code>File.WriteAllText</code> and
<code>File.ReadAllText</code>. When would one choose the synchronous versions over the
asynchronous versions? I&rsquo;ve been under the impression that I/O should be done
async whenever possible.</p></div></div><p><span class=citation-ref><a href=#HowToSerialize></a></span><span class=citation-ref><a href=#HowToDeserialize></a></span></p><p>If you don&rsquo;t have a <code>T</code> to deserialize into, you can use the <code>Utf8JsonReader</code>
directly, or deserialize into a <code>JsonNode</code> DOM, which lets you navigate to any
subsection of a JSON payload. <span class=citation-ref><a href=#HowToDeserialize></a></span></p><p>Types supported out-of-the-box include: .NET primitives that map to JavaScript
primitives; user-defined plain old CLR objects; <code>T[]</code> and <code>T[][]</code>, collections
and dictionaries from <code>System.Collections</code>. <span class=citation-ref><a href=#HowToSerialize></a></span></p><p>Because bytes (as UTF-8) don&rsquo;t need to be converted to strings (UTF-16), it is
5-10% faster to use <code>JsonSerializer.SerializeToUtf8Bytes</code> instead of
<code>JsonSerializer.Serialize</code> <span class=citation-ref><a href=#HowToSerialize></a></span>. There is a
<code>JsonSerializer.Deserialize&lt;T></code> overload that takes in a <code>Utf8JsonReader</code> or a
<code>ReadOnlySpan&lt;byte></code> to deserialize the bytes. <span class=citation-ref><a href=#HowToDeserialize></a></span></p><p><code>JsonSerializer.Serialize</code> accepts a <code>JsonSerializerOptions</code> to configure the
output, e.g.,</p><div class=highlight><pre style=color:#272822;background-color:#fafafa;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-cs data-lang=cs><span style=color:#00a8c8>var</span> <span style=color:#111>options</span> <span style=color:#111>=</span> <span style=color:#00a8c8>new</span> <span style=color:#111>JsonSerializerOptions</span> <span style=color:#111>{</span> <span style=color:#111>WriteIndented</span> <span style=color:#111>=</span> <span style=color:#00a8c8>true</span> <span style=color:#111>};</span>
<span style=color:#00a8c8>string</span> <span style=color:#111>jsonString</span> <span style=color:#111>=</span> <span style=color:#111>JsonSerializer</span><span style=color:#111>.</span><span style=color:#111>Serialize</span><span style=color:#111>(</span><span style=color:#111>foo</span><span style=color:#111>,</span> <span style=color:#111>options</span><span style=color:#111>);</span>
</code></pre></div><p><span class=citation-ref><a href=#HowToSerialize></a></span><span class=citation-ref><a href=#JsonSerializerOptions></a></span></p><h2 id=how-to-deserialize-with-required-properties>How to Deserialize with Required Properties</h2><p>If there are any <code>required</code> properties of <code>T</code> missing from the JSON payload,
then deserialization throws a <code>JsonException</code> at runtime. <span class=citation-ref><a href=#DeserializeWithRequiredProps></a></span></p><div class=highlight><pre style=color:#272822;background-color:#fafafa;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-cs data-lang=cs><span style=color:#00a8c8>public</span> <span style=color:#00a8c8>class</span> <span style=color:#75af00>Foo</span>
<span style=color:#111>{</span>
    <span style=color:#75715e>// Option 1: `s` is required in all contexts, even outside of serialization.
</span><span style=color:#75715e></span>    <span style=color:#00a8c8>public</span> <span style=color:#111>required</span> <span style=color:#00a8c8>string</span> <span style=color:#111>s</span> <span style=color:#111>{</span> <span style=color:#00a8c8>get</span><span style=color:#111>;</span> <span style=color:#00a8c8>set</span><span style=color:#111>;</span> <span style=color:#111>}</span>

    <span style=color:#75715e>// Option 2: `n` is required only in a serialization context.
</span><span style=color:#75715e></span><span style=color:#75af00>    [JsonRequired]</span>
    <span style=color:#00a8c8>public</span> <span style=color:#00a8c8>int</span> <span style=color:#111>n</span> <span style=color:#111>{</span><span style=color:#00a8c8>get</span><span style=color:#111>;</span> <span style=color:#00a8c8>set</span><span style=color:#111>;</span> <span style=color:#111>}</span>
<span style=color:#111>}</span>
</code></pre></div><p>From a deserialization perspective, the <code>required</code> keyword is equivalent to the
<code>JsonRequired</code> attribute. The latter is useful when using source generation
because at compile time, the <code>required</code> constraint can&rsquo;t be satisfied. <span class=citation-ref><a href=#DeserializeWithRequiredProps></a></span></p><p>The <code>required</code> constraint is checked at runtime. It&rsquo;s possible to control this
through the <code>TypeInfoResolver</code> passed to the <code>JsonSerializerOptions</code>, e.g., by
setting <code>JsonPropertyInfo.IsRequired</code>. <span class=citation-ref><a href=#DeserializeWithRequiredProps></a></span></p><p>With <code>JsonSerializerOptions.RespectRequiredConstructorParameters</code> set,
non-optional constructor parameters, e.g., <code>Name</code> in <code>record Person(string Name, int? Age = null)</code>, are treated as required. <span class=citation-ref><a href=#DeserializeWithRequiredProps></a></span></p><h2 id=how-to-customize-property-names-and-values>How to Customize Property Names and Values</h2><p>By default, properties are serialized with the same name and in the order in
which they are defined. <code>JsonNameProperty</code> and <code>JsonPropertyOrder</code> can modify
this, e.g.,</p><div class=highlight><pre style=color:#272822;background-color:#fafafa;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-cs data-lang=cs><span style=color:#111>Foo</span> <span style=color:#111>foo</span> <span style=color:#111>=</span> <span style=color:#00a8c8>new</span> <span style=color:#111>Foo</span> <span style=color:#111>{};</span>
<span style=color:#75715e>// Output: {&#34;nTwo&#34;:0,&#34;n_One&#34;:0,&#34;tatu&#34;:0}
</span><span style=color:#75715e></span><span style=color:#111>Console</span><span style=color:#111>.</span><span style=color:#111>WriteLine</span><span style=color:#111>(</span><span style=color:#111>JsonSerializer</span><span style=color:#111>.</span><span style=color:#111>Serialize</span><span style=color:#111>(</span><span style=color:#111>foo</span><span style=color:#111>));</span>

<span style=color:#00a8c8>public</span> <span style=color:#00a8c8>class</span> <span style=color:#75af00>Foo</span>
<span style=color:#111>{</span>
    <span style=color:#00a8c8>public</span> <span style=color:#00a8c8>int</span> <span style=color:#111>n_One</span> <span style=color:#111>{</span> <span style=color:#00a8c8>get</span><span style=color:#111>;</span> <span style=color:#00a8c8>set</span><span style=color:#111>;</span> <span style=color:#111>}</span>
<span style=color:#75af00>
</span><span style=color:#75af00>    [JsonPropertyOrder(-3)]</span>
    <span style=color:#00a8c8>public</span> <span style=color:#00a8c8>int</span> <span style=color:#111>nTwo</span> <span style=color:#111>{</span> <span style=color:#00a8c8>get</span><span style=color:#111>;</span> <span style=color:#00a8c8>set</span><span style=color:#111>;</span> <span style=color:#111>}</span>
<span style=color:#75af00>
</span><span style=color:#75af00>    [JsonPropertyName(&#34;tatu&#34;)]</span>
    <span style=color:#00a8c8>public</span> <span style=color:#00a8c8>int</span> <span style=color:#111>n_three</span> <span style=color:#111>{</span> <span style=color:#00a8c8>get</span><span style=color:#111>;</span> <span style=color:#00a8c8>set</span><span style=color:#111>;</span> <span style=color:#111>}</span>
<span style=color:#111>}</span>
</code></pre></div><p>Without the attributes, the serialization would have been
<code>{"n_One":0,"nTwo":0,"n_three":0}</code>. <span class=citation-ref><a href=#CustomizePropertyNamesAndValues></a></span></p><p><code>JsonSerializerOptions</code> has a <code>PropertyNamingPolicy</code> that takes in a policy for
generating names when serializing. The <code>JsonPropertyName</code> overrides this though:</p><div class=highlight><pre style=color:#272822;background-color:#fafafa;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-cs data-lang=cs><span style=color:#111>Foo</span> <span style=color:#111>foo</span> <span style=color:#111>=</span> <span style=color:#00a8c8>new</span> <span style=color:#111>Foo</span> <span style=color:#111>{};</span>

<span style=color:#00a8c8>var</span> <span style=color:#111>options</span> <span style=color:#111>=</span> <span style=color:#00a8c8>new</span> <span style=color:#111>JsonSerializerOptions</span>
<span style=color:#111>{</span>
    <span style=color:#111>PropertyNamingPolicy</span> <span style=color:#111>=</span> <span style=color:#00a8c8>new</span> <span style=color:#111>ContosoNamingPolicy</span><span style=color:#111>()</span>
<span style=color:#111>};</span>
<span style=color:#75715e>// Output: {&#34;contoso_N_ONE&#34;:0,&#34;contoso_NTWO&#34;:0,&#34;tatu&#34;:0}
</span><span style=color:#75715e></span><span style=color:#111>Console</span><span style=color:#111>.</span><span style=color:#111>WriteLine</span><span style=color:#111>(</span><span style=color:#111>JsonSerializer</span><span style=color:#111>.</span><span style=color:#111>Serialize</span><span style=color:#111>(</span><span style=color:#111>foo</span><span style=color:#111>,</span> <span style=color:#111>options</span><span style=color:#111>));</span>

<span style=color:#00a8c8>public</span> <span style=color:#00a8c8>class</span> <span style=color:#75af00>Foo</span>
<span style=color:#111>{</span>
    <span style=color:#00a8c8>public</span> <span style=color:#00a8c8>int</span> <span style=color:#111>n_One</span> <span style=color:#111>{</span> <span style=color:#00a8c8>get</span><span style=color:#111>;</span> <span style=color:#00a8c8>set</span><span style=color:#111>;</span> <span style=color:#111>}</span>

    <span style=color:#00a8c8>public</span> <span style=color:#00a8c8>int</span> <span style=color:#111>nTwo</span> <span style=color:#111>{</span> <span style=color:#00a8c8>get</span><span style=color:#111>;</span> <span style=color:#00a8c8>set</span><span style=color:#111>;</span> <span style=color:#111>}</span>
<span style=color:#75af00>
</span><span style=color:#75af00>    [JsonPropertyName(&#34;tatu&#34;)]</span>
    <span style=color:#00a8c8>public</span> <span style=color:#00a8c8>int</span> <span style=color:#111>n_three</span> <span style=color:#111>{</span> <span style=color:#00a8c8>get</span><span style=color:#111>;</span> <span style=color:#00a8c8>set</span><span style=color:#111>;</span> <span style=color:#111>}</span>
<span style=color:#111>}</span>

<span style=color:#00a8c8>public</span> <span style=color:#00a8c8>class</span> <span style=color:#75af00>ContosoNamingPolicy</span> <span style=color:#111>:</span> <span style=color:#111>JsonNamingPolicy</span>
<span style=color:#111>{</span>
    <span style=color:#00a8c8>public</span> <span style=color:#00a8c8>override</span> <span style=color:#00a8c8>string</span> <span style=color:#111>ConvertName</span><span style=color:#111>(</span><span style=color:#00a8c8>string</span> <span style=color:#111>name</span><span style=color:#111>)</span> <span style=color:#111>=&gt;</span>
        <span style=color:#d88200>$&#34;contoso_{name.ToUpper()}&#34;</span><span style=color:#111>;</span>
<span style=color:#111>}</span>
</code></pre></div><p>There are several in-built <code>JsonNamingPolicy.*</code> classes, e.g., <code>CamelCase</code>
(<code>fooBar</code>), <code>KebabCaseLower</code> (<code>foo-bar</code>), <code>KebabCaseUpper</code> (<code>FOO-BAR</code>),
<code>SnakeCaseLower</code> (<code>foo_bar</code>) and <code>SnakeCaseUpper</code> (<code>FOO_BAR</code>). <span class=citation-ref><a href=#CustomizePropertyNamesAndValues></a></span></p><p>If serializing a <code>Dictionary&lt;string, TValue></code>, then one can supply a
<code>JsonNamingPolicy</code> to <code>JsonSerializerOptions</code>&rsquo;s <code>DictionaryKeyPolicy</code> to specify
how the keys will be serialized. However, unlike <code>PropertyNamingPolicy</code>,
<code>JsonNamingPolicy</code> only applies during serialization and not during
deserialization. <span class=citation-ref><a href=#CustomizePropertyNamesAndValues></a></span></p><div class=comment-holder><div class="comment open-comment"><p>If <code>JsonNamingPolicy</code> does not support round-tripping data, then what use is it?
Seems like a risky API&mldr;</p></div></div><p>By default, enums are serialized as numbers. One can specify attributes on enums
to serialize them differently, e.g.,</p><div class=highlight><pre style=color:#272822;background-color:#fafafa;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-cs data-lang=cs><span style=color:#75af00>[JsonConverter(typeof(JsonStringEnumConverter))]</span>
<span style=color:#00a8c8>public</span> <span style=color:#00a8c8>enum</span> <span style=color:#111>Foo</span>
<span style=color:#111>{</span>
  <span style=color:#111>Bar</span><span style=color:#111>,</span> <span style=color:#75715e>// Output: Bar
</span><span style=color:#75715e></span><span style=color:#75af00>  [JsonStringEnumMemberName(&#34;AlternateBazName&#34;)]</span>
  <span style=color:#111>Baz</span><span style=color:#111>,</span> <span style=color:#75715e>// Output: AlternateBazName
</span><span style=color:#75715e></span>  <span style=color:#111>Qux</span>  <span style=color:#75715e>// Output: Qux
</span><span style=color:#75715e></span><span style=color:#111>}</span>
</code></pre></div><p><span class=citation-ref><a href=#CustomizePropertyNamesAndValues></a></span></p><p>One can also apply converters to the <code>JsonSerializerOptions</code>, e.g.,</p><div class=highlight><pre style=color:#272822;background-color:#fafafa;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-cs data-lang=cs><span style=color:#00a8c8>var</span> <span style=color:#111>options</span> <span style=color:#111>=</span> <span style=color:#00a8c8>new</span> <span style=color:#111>JsonSerializerOptions</span>
<span style=color:#111>{</span>
    <span style=color:#111>Converters</span> <span style=color:#111>=</span> <span style=color:#111>{</span> <span style=color:#00a8c8>new</span> <span style=color:#111>JsonStringEnumConverter</span><span style=color:#111>(</span><span style=color:#111>JsonNamingPolicy</span><span style=color:#111>.</span><span style=color:#111>CamelCase</span><span style=color:#111>)</span> <span style=color:#111>}</span>
<span style=color:#111>};</span>
<span style=color:#111>Console</span><span style=color:#111>.</span><span style=color:#111>WriteLine</span><span style=color:#111>(</span><span style=color:#111>JsonSerializer</span><span style=color:#111>.</span><span style=color:#111>Serialize</span><span style=color:#111>(</span><span style=color:#111>Foo</span><span style=color:#111>.</span><span style=color:#111>Baz</span><span style=color:#111>,</span> <span style=color:#111>options</span><span style=color:#111>));</span> <span style=color:#75715e>// Output: baz
</span><span style=color:#75715e></span>
<span style=color:#00a8c8>public</span> <span style=color:#00a8c8>enum</span> <span style=color:#111>Foo</span> <span style=color:#111>{</span> <span style=color:#111>Bar</span><span style=color:#111>,</span> <span style=color:#111>Baz</span><span style=color:#111>,</span> <span style=color:#111>Qux</span> <span style=color:#111>}</span>
</code></pre></div><div class=comment-holder><div class=comment><p>Of the various modifications to <code>JsonSerializerOptions</code>, serializing enums as
strings is my favorite. Helps a ton with readability when debugging data flows
because I don&rsquo;t need to maintain a map of what enumerator corresponds with a
given number. It also makes it easy to re-order enums because their underlying
numerical values are inconsequential.</p></div></div><h2 id=how-to-exclude-properties>How to Exclude Properties</h2><p>By default, all public properties are serialized. The <code>JsonIgnore</code> attribute
allows us to ignore individual properties, e.g.,</p><div class=highlight><pre style=color:#272822;background-color:#fafafa;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-cs data-lang=cs><span style=color:#00a8c8>public</span> <span style=color:#00a8c8>class</span> <span style=color:#75af00>Foo</span>
<span style=color:#111>{</span>
<span style=color:#75af00>    [JsonIgnore(Condition = JsonIgnoreCondition.Always)]</span>
    <span style=color:#00a8c8>public</span> <span style=color:#00a8c8>string</span> <span style=color:#111>s1</span> <span style=color:#111>{</span> <span style=color:#00a8c8>get</span><span style=color:#111>;</span> <span style=color:#00a8c8>set</span><span style=color:#111>;</span> <span style=color:#111>}</span> <span style=color:#111>=</span> <span style=color:#d88200>&#34;Paukwa&#34;</span><span style=color:#111>;</span> <span style=color:#75715e>// Will not be serialized.
</span><span style=color:#75715e></span>    <span style=color:#00a8c8>public</span> <span style=color:#00a8c8>string</span> <span style=color:#111>s2</span> <span style=color:#111>{</span> <span style=color:#00a8c8>get</span><span style=color:#111>;</span> <span style=color:#00a8c8>set</span><span style=color:#111>;</span> <span style=color:#111>}</span> <span style=color:#111>=</span> <span style=color:#d88200>&#34;Pakawa&#34;</span><span style=color:#111>;</span>
<span style=color:#111>}</span>
</code></pre></div><p><code>JsonIgnoreCondition</code> values include <code>Always</code> (default), <code>Never</code>,
<code>WhenWritingDefault</code>, and <code>WhenWritingNull</code>. <span class=citation-ref><a href=#IgnoreProperties></a></span></p><p>Read-only properties are ones with a public getter but a non-public setter,
e.g., <code>public string s { get; private set; } = "Top Secret"</code>.
<code>JsonSerializerOptions</code>&rsquo;s <code>IgnoreReadOnlyProperties</code> can be set to <code>true</code> to
override the default behavior where such properties get serialized. <span class=citation-ref><a href=#IgnoreProperties></a></span></p><p><code>JsonSerializerOptions</code>&rsquo;s <code>DefaultIgnoreCondition</code> can be set to ignore
properties based on a criteria, e.g., <code>WhenWritingNull</code> to drop <code>null</code>s,
<code>WhenWritingDefault</code> to drop <code>default</code>s and <code>null</code>s. <span class=citation-ref><a href=#IgnoreProperties></a></span></p><h2 id=how-to-include-fields>How to Include Fields</h2><div class=comment-holder><div class=comment><p>A <code>field</code> defines a storage location.</p><div class=highlight><pre style=color:#272822;background-color:#fafafa;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-cs data-lang=cs><span style=color:#00a8c8>public</span> <span style=color:#00a8c8>class</span> <span style=color:#75af00>Person</span>
<span style=color:#111>{</span>
  <span style=color:#00a8c8>public</span> <span style=color:#00a8c8>string?</span> <span style=color:#111>FirstName</span><span style=color:#111>;</span>
<span style=color:#111>}</span>
</code></pre></div><p>&mldr; while a <code>property</code> is an outward-facing declaration:</p><div class=highlight><pre style=color:#272822;background-color:#fafafa;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-cs data-lang=cs><span style=color:#00a8c8>public</span> <span style=color:#00a8c8>class</span> <span style=color:#75af00>Person</span>
<span style=color:#111>{</span>
  <span style=color:#75715e>// The compiler generates a hidden backing field, and implements the body of
</span><span style=color:#75715e></span>  <span style=color:#75715e>// the get and set accessors.
</span><span style=color:#75715e></span>  <span style=color:#00a8c8>public</span> <span style=color:#00a8c8>string</span> <span style=color:#111>FirstName</span> <span style=color:#111>{</span> <span style=color:#00a8c8>get</span><span style=color:#111>;</span> <span style=color:#00a8c8>set</span><span style=color:#111>;</span> <span style=color:#111>}</span> <span style=color:#111>=</span> <span style=color:#00a8c8>string</span><span style=color:#111>.</span><span style=color:#111>Empty</span><span style=color:#111>;</span>
<span style=color:#111>}</span>
</code></pre></div><p>Think of properties as smart fields. You can provide validation, lazy
evaluation, different accessibility, etc. <span class=citation-ref><a href=#Properties></a></span></p></div></div><p>By default, fields are not serialized. Set <code>JsonSerializerOptions.IncludeFields</code>
or use the <code>[JsonInclude]</code> attribute on them to include them. Set
<code>JsonSerializerOptions.IgnoreReadOnlyFields</code> to ignore fields marked with
<code>readonly</code>. <span class=citation-ref><a href=#IncludeFields></a></span></p><h2 id=reflection-vs-source-generation>Reflection vs. Source Generation</h2><p>By default, <code>System.Text.Json</code> gathers the metadata needed to access properties
of objects for serialization at run time using
<a href=https://www.curiosities.dev/computer-science/programming-challenges/language-concepts/meta-programming/ target=_blank rel=noopener>reflection
<i class="fas fa-fw fa-external-link-alt" aria-hidden=true></i></a>. <span class=citation-ref><a href=#JsonSerializationOverview></a></span></p><p>Alternatively, <code>System.Text.Json</code> can use source generation to improve
performance, reduce private memory, and facilitate assembly trimming, which
reduces app size. <span class=citation-ref><a href=#JsonSerializationOverview></a></span></p><h2 id=references>References</h2><ol><li><div class=citation citation-icon-class="fas fa-fw fa-globe" cited-by-count is-main><cite id=JsonSerializationOverview>Serialize and deserialize JSON using C# - .NET | Microsoft Learn<i>.</i></cite>
<a href=https://learn.microsoft.com/en-us/dotnet/standard/serialization/system-text-json/overview target=_blank rel=noopener><img src="https://www.google.com/s2/favicons?domain=learn.microsoft.com" loading=lazy aria-hidden=true width=16 height=16>
<i>learn.microsoft.com</i> <i class="fas fa-fw fa-external-link-alt" aria-hidden=true></i></a>.
<i class="fas fa-fw fa-globe" aria-hidden=true></i>Accessed Jul 5, 2025.</div></li><li><div class=citation citation-icon-class="fas fa-fw fa-globe" cited-by-count is-main><cite id=HowToSerialize>How to serialize JSON in C# - .NET | Microsoft Learn<i>.</i></cite>
<a href=https://learn.microsoft.com/en-us/dotnet/standard/serialization/system-text-json/how-to target=_blank rel=noopener><img src="https://www.google.com/s2/favicons?domain=learn.microsoft.com" loading=lazy aria-hidden=true width=16 height=16>
<i>learn.microsoft.com</i> <i class="fas fa-fw fa-external-link-alt" aria-hidden=true></i></a>.
<i class="fas fa-fw fa-globe" aria-hidden=true></i>Accessed Jul 5, 2025.</div></li><li><div class=citation citation-icon-class="fas fa-fw fa-globe" cited-by-count is-main><cite id=JsonSerializerOptions>JsonSerializerOptions Class (System.Text.Json) | Microsoft Learn<i>.</i></cite>
<a href="https://learn.microsoft.com/en-us/dotnet/api/system.text.json.jsonserializeroptions?view=net-9.0" target=_blank rel=noopener><img src="https://www.google.com/s2/favicons?domain=learn.microsoft.com" loading=lazy aria-hidden=true width=16 height=16>
<i>learn.microsoft.com</i> <i class="fas fa-fw fa-external-link-alt" aria-hidden=true></i></a>.
<i class="fas fa-fw fa-globe" aria-hidden=true></i>Accessed Jul 5, 2025.</div></li><li><div class=citation citation-icon-class="fas fa-fw fa-globe" cited-by-count is-main><cite id=CustomizePropertyNamesAndValues>How to customize property names and values with System.Text.Json - .NET | Microsoft Learn<i>.</i></cite>
<a href=https://learn.microsoft.com/en-us/dotnet/standard/serialization/system-text-json/customize-properties target=_blank rel=noopener><img src="https://www.google.com/s2/favicons?domain=learn.microsoft.com" loading=lazy aria-hidden=true width=16 height=16>
<i>learn.microsoft.com</i> <i class="fas fa-fw fa-external-link-alt" aria-hidden=true></i></a>.
<i class="fas fa-fw fa-globe" aria-hidden=true></i>Accessed Jul 5, 2025.</div></li><li><div class=citation citation-icon-class="fas fa-fw fa-globe" cited-by-count is-main><cite id=IgnoreProperties>How to ignore properties with System.Text.Json - .NET | Microsoft Learn<i>.</i></cite>
<a href=https://learn.microsoft.com/en-us/dotnet/standard/serialization/system-text-json/ignore-properties target=_blank rel=noopener><img src="https://www.google.com/s2/favicons?domain=learn.microsoft.com" loading=lazy aria-hidden=true width=16 height=16>
<i>learn.microsoft.com</i> <i class="fas fa-fw fa-external-link-alt" aria-hidden=true></i></a>.
<i class="fas fa-fw fa-globe" aria-hidden=true></i>Accessed Jul 5, 2025.</div></li><li><div class=citation citation-icon-class="fas fa-fw fa-globe" cited-by-count is-main><cite id=Properties>Properties - C# | Microsoft Learn<i>.</i></cite>
<a href=https://learn.microsoft.com/en-us/dotnet/csharp/programming-guide/classes-and-structs/properties target=_blank rel=noopener><img src="https://www.google.com/s2/favicons?domain=learn.microsoft.com" loading=lazy aria-hidden=true width=16 height=16>
<i>learn.microsoft.com</i> <i class="fas fa-fw fa-external-link-alt" aria-hidden=true></i></a>.
<i class="fas fa-fw fa-globe" aria-hidden=true></i>Accessed Jul 5, 2025.</div></li><li><div class=citation citation-icon-class="fas fa-fw fa-globe" cited-by-count is-main><cite id=IncludeFields>Include fields in serialization - .NET | Microsoft Learn<i>.</i></cite>
<a href=https://learn.microsoft.com/en-us/dotnet/standard/serialization/system-text-json/fields target=_blank rel=noopener><img src="https://www.google.com/s2/favicons?domain=learn.microsoft.com" loading=lazy aria-hidden=true width=16 height=16>
<i>learn.microsoft.com</i> <i class="fas fa-fw fa-external-link-alt" aria-hidden=true></i></a>.
<i class="fas fa-fw fa-globe" aria-hidden=true></i>Accessed Jul 5, 2025.</div></li><li><div class=citation citation-icon-class="fas fa-fw fa-globe" cited-by-count is-main><cite id=HowToDeserialize>How to deserialize JSON in C# - .NET | Microsoft Learn<i>.</i></cite>
<a href=https://learn.microsoft.com/en-us/dotnet/standard/serialization/system-text-json/deserialization target=_blank rel=noopener><img src="https://www.google.com/s2/favicons?domain=learn.microsoft.com" loading=lazy aria-hidden=true width=16 height=16>
<i>learn.microsoft.com</i> <i class="fas fa-fw fa-external-link-alt" aria-hidden=true></i></a>.
<i class="fas fa-fw fa-globe" aria-hidden=true></i>Accessed Jul 6, 2025.</div></li><li><div class=citation citation-icon-class="fas fa-fw fa-globe" cited-by-count is-main><cite id=DeserializeWithRequiredProps>Require properties for deserialization - .NET | Microsoft Learn<i>.</i></cite>
<a href=https://learn.microsoft.com/en-us/dotnet/standard/serialization/system-text-json/required-properties target=_blank rel=noopener><img src="https://www.google.com/s2/favicons?domain=learn.microsoft.com" loading=lazy aria-hidden=true width=16 height=16>
<i>learn.microsoft.com</i> <i class="fas fa-fw fa-external-link-alt" aria-hidden=true></i></a>.
<i class="fas fa-fw fa-globe" aria-hidden=true></i>Accessed Jul 6, 2025.</div></li></ol></article><div style=font-size:smaller><aside id=domains-holder style="margin:0 0 2%">Cited Domains:
<a href=/domains/learn.microsoft.com style="margin:0 2px"><img src="https://www.google.com/s2/favicons?domain=learn.microsoft.com" loading=lazy aria-hidden=true width=16 height=16>
learn.microsoft.com</a></aside></div></div><footer></footer></section></div><footer><a href=mailto:d.chege711@gmail.com>Email</a>
<a href=/about>About</a>
<a href=/search>Search</a></footer></body></html>