<!doctype html><html lang=en><head><title>Using Web Components | curiosities.dev</title><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo (https://gohugo.io/)"><meta name=description content="What does it take to use web components?  lists several options, and Google&rsquo;s   lit   is leading the pack in popularity at 1.6M weekly downloads. Stencil   (703K, Ionic   ), solid-js   (269K, Netlify   ), and FAST (88K, Microsoft   ) round up the list of libraries with +50K weekly NPM downloads.
 collects stats on bundle sizes and performance...."><link rel=stylesheet type=text/css href=/css/main.min.css><link rel=preload href=/css/all_font_awesome_v5.9.min.min.css as=style onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel=stylesheet href=/css/all_font_awesome_v5.9.min.min.css></noscript><link rel="shortcut icon" href=/img/favicon_io/favicon.ico><link rel=apple-touch-icon sizes=180x180 href=/img/favicon_io/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/img/favicon_io/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/img/favicon_io/favicon-16x16.png><script async type=text/javascript src=/js/OrganizeCitations.min.js></script><script async type=text/javascript src=/js/HighlightAnchor.min.js></script><script async type=text/javascript src=/js/SummaryPageUtils.min.js></script></head><body><div class=container id=main_div><form action=/search method=get id=globalSearchForm><input type=text id=q name=q title="Search Query">
<input type=submit id=submitButton value=Search></form><nav aria-label=Breadcrumb class=breadcrumb><ul><li><a href=https://www.curiosities.dev/>Home</a></li><li><a href=https://www.curiosities.dev/computer-science/>Computer Science & Software Engineering</a></li><li><a href=https://www.curiosities.dev/computer-science/programming-challenges/>Programming Challenges</a></li><li><a href=https://www.curiosities.dev/computer-science/programming-challenges/flashcards-app/>Flashcards App</a></li><li class=active><a href=https://www.curiosities.dev/computer-science/programming-challenges/flashcards-app/web-components/>Using Web Components</a></li></ul></nav><main><article><header><h1>Using Web Components</h1><p class=meta>Dated Apr 18, 2024;
last modified on Thu, 18 Apr 2024</p></header><p>What does it take to use web components? <span class=citation-ref><a href=#openWCBaseLibraries></a></span>lists several options, and
<a href=https://lit.dev/docs/#why-should-i-choose-lit target=_blank rel=noopener>Google&rsquo;s
<i class="fas fa-fw fa-external-link-alt" aria-hidden=true></i></a><a href=https://lit.dev/ target=_blank rel=noopener><code>lit</code>
<i class="fas fa-fw fa-external-link-alt" aria-hidden=true></i></a>is leading the pack in popularity at 1.6M
weekly downloads.
<a href=https://stenciljs.com/ target=_blank rel=noopener><code>Stencil</code>
<i class="fas fa-fw fa-external-link-alt" aria-hidden=true></i></a>(703K,
<a href=https://stenciljs.com/docs/faq#why-was-stencil-created target=_blank rel=noopener>Ionic
<i class="fas fa-fw fa-external-link-alt" aria-hidden=true></i></a>),
<a href=https://www.solidjs.com/ target=_blank rel=noopener><code>solid-js</code>
<i class="fas fa-fw fa-external-link-alt" aria-hidden=true></i></a>(269K,
<a href=https://dev.to/ryansolid/when-netlify-asks-you-to-full-time-oss-you-say-yes-5ccf target=_blank rel=noopener>Netlify
<i class="fas fa-fw fa-external-link-alt" aria-hidden=true></i></a>),
and <code>FAST</code> (88K,
<a href=https://www.fast.design/ target=_blank rel=noopener>Microsoft
<i class="fas fa-fw fa-external-link-alt" aria-hidden=true></i></a>) round up the
list of libraries with +50K weekly NPM downloads.</p><p><span class=citation-ref><a href=#allTheWaysDivRiot></a></span>collects stats on bundle sizes and
performance. Notably, <code>React</code> falls in the lower end with large bundle
sizes and poor performance. Granted, <code>React</code> is still pretty popular
with
<a href=https://www.npmjs.com/package/react target=_blank rel=noopener>22M weekly NPM downloads
<i class="fas fa-fw fa-external-link-alt" aria-hidden=true></i></a>.</p><ol><li><div class=citation citation-icon-class="fas fa-fw fa-globe" cited-by-count is-main><cite id=openWCBaseLibraries>Community: Base Libraries: Open Web Components<i>.</i></cite>
<a href=https://open-wc.org/guides/community/base-libraries/ target=_blank rel=noopener><img src="https://www.google.com/s2/favicons?domain=open-wc.org" loading=lazy aria-hidden=true width=16 height=16>
<i>open-wc.org</i> <i class="fas fa-fw fa-external-link-alt" aria-hidden=true></i></a>.
<i class="fas fa-fw fa-globe" aria-hidden=true></i>Accessed Apr 23, 2024.</div></li><li><div class=citation citation-icon-class="fas fa-fw fa-globe" cited-by-count is-main><cite id=allTheWaysDivRiot>All the Ways to Make a Web Component - Feb 2022 Update<i>.</i></cite>
<a href=https://webcomponents.dev/blog/all-the-ways-to-make-a-web-component/ target=_blank rel=noopener><img src="https://www.google.com/s2/favicons?domain=webcomponents.dev" loading=lazy aria-hidden=true width=16 height=16>
<i>webcomponents.dev</i> <i class="fas fa-fw fa-external-link-alt" aria-hidden=true></i></a>.
<i class="fas fa-fw fa-globe" aria-hidden=true></i>Accessed Apr 23, 2024.</div></li></ol></article><table border=0><tr class=no-decoration id=randomSelectorContainer><td class=no-decoration></td><td class=no-decoration></td><td class=no-decoration><span class=link-style onclick=goToRandomPage();>Random Link ¯\_(ツ)_/¯</span></td></tr><tr class=no-decoration><td class=no-decoration>Apr 18, 2024</td><td class=no-decoration>&#187;</td><td class=no-decoration><a href=https://www.curiosities.dev/computer-science/programming-challenges/flashcards-app/web-components/wiki-page/>Wiki Page</a>
<span class=meta>2 min; updated Apr 18, 2024
<button id=500ed966e943a83cd9f98dabe0386fd8-summary-controller onclick=toggleSummaryDisplay(this);>
<i class="fas fa-chevron-down"></i></button></span><p class=meta id=500ed966e943a83cd9f98dabe0386fd8-summary style=display:none>Overview Starting with this page because it&rsquo;s mostly static. The body is basically:
&lt;div class="topnav">...&lt;/div> &lt;div id="main_div"> &lt;div id="study_buddy_details"> &lt;div class="details_section">...&lt;/div> &lt;div class="details_section">...&lt;/div> ... &lt;div class="details_section">...&lt;/div> &lt;/div> &lt;/div> &lt;footer>...&lt;/footer> The corresponding web components would be something along the lines of:
&lt;nav-bar>&lt;/nav-bar> &lt;wiki-container> {Table of Contents} &lt;wiki-section>&lt;/wiki-section> &lt;wiki-section>&lt;/wiki-section> &lt;/wiki-container> &lt;wiki-container> Maybe &lt;wiki-section> can be a template owned by &lt;wiki-container>? Nah, there are benefits to a separate &lt;wiki-section> component, e.g., each component can define its title for use in the ToC....</p></td></tr><tr class=no-decoration><td class=no-decoration>Apr 19, 2024</td><td class=no-decoration>&#187;</td><td class=no-decoration><a href=https://www.curiosities.dev/computer-science/programming-challenges/flashcards-app/web-components/app-layout/>App Layout</a>
<span class=meta>1 min; updated Apr 19, 2024
<button id=eb5cf830fdb6acfb1a51c651373bb36f-summary-controller onclick=toggleSummaryDisplay(this);>
<i class="fas fa-chevron-down"></i></button></span><p class=meta id=eb5cf830fdb6acfb1a51c651373bb36f-summary style=display:none>Is there a use-case for the container that lays out the various app elements? When considering a &lt;nav-bar> , the conclusion was that a web component wasn&rsquo;t necessary.
Possible Organization The high-level picture is:
&lt;body> &lt;nav> &lt;div id="topnav-banner">...&lt;/div> &lt;ul id="topnav-items">...&lt;/ul> &lt;/nav> &lt;div id="main_div">...&lt;/div> &lt;footer>...&lt;/footer> &lt;/body> We should move #topnav-banner out of the &lt;nav> so that we can potentially apply lateral spacing to #topnav-items and #main_div without it applying to #topnav-banner....</p></td></tr><tr class=no-decoration><td class=no-decoration>Apr 20, 2024</td><td class=no-decoration>&#187;</td><td class=no-decoration><a href=https://www.curiosities.dev/computer-science/programming-challenges/flashcards-app/web-components/browse-page/>Browse Page</a>
<span class=meta>3 min; updated Apr 20, 2024
<button id=4734ba70af761f7acdf8cc715547f0a8-summary-controller onclick=toggleSummaryDisplay(this);>
<i class="fas fa-chevron-down"></i></button></span><p class=meta id=4734ba70af761f7acdf8cc715547f0a8-summary style=display:none>When a user lands at /browse, this UI is shown. A couple of components seem to emerge: search-bar, tags-list, card-results, and mini-card.
&lt;search-bar> Currently, this is rendered by search_bar_dropdown.ejs, a partial that that is included in both /home and /browse. The fact that there it has JS, no server-delivered content, and has CSS makes it a good candidate for a web component. Revving up search-bar.ts.
Ran into Uncaught TypeError: Class constructor s cannot be invoked without 'new' on the export class SearchBar extends LitElement line....</p></td></tr><tr class=no-decoration><td class=no-decoration>Apr 28, 2024</td><td class=no-decoration>&#187;</td><td class=no-decoration><a href=https://www.curiosities.dev/computer-science/programming-challenges/flashcards-app/web-components/cards-manager/>The Cards Manager</a>
<span class=meta>4 min; updated Apr 28, 2024
<button id=c794a2d9d1c159dd5cbb47ae43838ce7-summary-controller onclick=toggleSummaryDisplay(this);>
<i class="fas fa-chevron-down"></i></button></span><p class=meta id=c794a2d9d1c159dd5cbb47ae43838ce7-summary style=display:none>UI Design Legacy card viewing UI at /browse.
This time we&rsquo;ll use the more semantic and a11y-friendly &lt;dialog> element . Centering it in the page is done by the browser, and that saves us a bit of hassle &ndash; thought it would have been feasible with how &lt;search-bar>&rsquo;s &lt;ul> floats above the page.
CardsManager Interface The previous/next buttons make use of the CardsManager object that has the API:...</p></td></tr><tr class=no-decoration><td class=no-decoration>May 3, 2024</td><td class=no-decoration>&#187;</td><td class=no-decoration><a href=https://www.curiosities.dev/computer-science/programming-challenges/flashcards-app/web-components/reusable-cards/>Reusable Cards</a>
<span class=meta>4 min; updated May 3, 2024
<button id=20a40d2ce93003261398593904c62844-summary-controller onclick=toggleSummaryDisplay(this);>
<i class="fas fa-chevron-down"></i></button></span><p class=meta id=20a40d2ce93003261398593904c62844-summary style=display:none>Context How can I reuse code in these user experiences?
Current card templates. TL: editable card owned by the user. TR: the overall modal experience. BL: a publicly viewable card. BR: a card owned by the user but is in the trash.
The current API surface for the different types of UIs is:
interface EditableCardViewer { displayNewCard(): void; displayFullCard(cardId: string): void; renderCard(card: Partial&lt;ICard> | null): void; fetchCard(caller: () => Promise&lt;Partial&lt;ICard> | null>): void; fetchPreviousCard(): void; fetchNextCard(): void; updateStreakBar(streak: IStreak): void; handleInputChange(elementId: string): void; handleCardUrgencyChange(): void; handleTagsInputChange(ev: KeyboardEvent): void; displayRawCardDescription(): void; insertTabsIfNecessary(ev: KeyboardEvent): void; saveCard(renderAfterSave: Boolean = true): void; moveCardToTrash(): void; restoreCardFromTrash(cardId: string, cardUrgency: number): void; toggleOption(elementId: "reviewModeToggle" | "card_is_public_toggle"): void; makeInvisible(elementId: string): void; colorUrgencyQuartiles(quartiles: number[]): void; suggestNewTags(tagsInputElement: HTMLInputElement): void; removeTagSuggestions(): void; updateTagsButtons(newTag: string): void; removeTagFromCard(tag: string): void; } interface PublicCardViewer { displayFullCard(cardId: string): void; renderCard(card: Partial&lt;ICard> | null): void; fetchPreviousCard(): void; fetchNextCard(): void; handleSearchInputChange(): void; flagCard(reason: "markedForReview" | "markedAsDuplicate"): void; copyCardToOwnCollection(); } interface TrashedCardViewer { renderTrashedCard(card: Partial&lt;ICard> | null); fetchPreviousCard(): void; fetchNextCard(): void; modifyTrash(endpoint: "/delete-card" | "/restore-from-trash"): void; } The web components v0 has:...</p></td></tr><tr class=no-decoration><td class=no-decoration>May 5, 2024</td><td class=no-decoration>&#187;</td><td class=no-decoration><a href=https://www.curiosities.dev/computer-science/programming-challenges/flashcards-app/web-components/home-page/>Home Page</a>
<span class=meta>2 min; updated May 5, 2024
<button id=ae1e97ec7b3db134d92ae50807929a08-summary-controller onclick=toggleSummaryDisplay(this);>
<i class="fas fa-chevron-down"></i></button></span><p class=meta id=ae1e97ec7b3db134d92ae50807929a08-summary style=display:none>When a user lands at /home, this UI is shown. A couple of components are shareable from /browse, e.g., search-bar, search-results.
Sharing Code with /browse Components initially created for the /browse page are useful in /home as well.
The CardsViewingPage Interface This functionality can be shared between the two pages:
export class CardsViewingPage extends LitElement { @provide({ context: searchResultsContext }) @state() protected searchResults: CardSearchResult[] = []; @state() protected selectedResult: Card | null = null; @provide({ context: cardsCarouselContext }) @state() protected cardsCarousel = new CardsCarousel([]); protected cardFetcher: CardFetchEndpoint; constructor(cardFetcher: CardFetchEndpoint) { super(); this....</p></td></tr><tr class=no-decoration><td class=no-decoration>May 28, 2024</td><td class=no-decoration>&#187;</td><td class=no-decoration><a href=https://www.curiosities.dev/computer-science/programming-challenges/flashcards-app/web-components/of-stale-ui-and-re-renders/>Of Stale UI and Re-renders</a>
<span class=meta>2 min; updated May 28, 2024
<button id=31332768f05017dfd9a30b0accba780a-summary-controller onclick=toggleSummaryDisplay(this);>
<i class="fas fa-chevron-down"></i></button></span><p class=meta id=31332768f05017dfd9a30b0accba780a-summary style=display:none>More than once, I&rsquo;ve been surprised by a web component either showing data that should no longer be there, or not showing data that should be there. This page aims to reason through such cases for a better mental model of web components.
Rendering Lists Both &lt;search-bar> and &lt;search-results> need to render a collection of N items. offers two options: looping, or using the repeat(items, keyFunction, itemTemplate) directive.
const cards = html` ${cards....</p></td></tr></table><script>let pageURLs=[];const alternateOrganizations=new Set(["tags","categories","domains","authors","publications"]);fetch("/json/site_tree.json").then(response=>response.json()).then(siteTree=>{const currentPath=document.location.pathname;let node=siteTree;currentPath.split("/").forEach((subpath)=>{if(!subpath)return;node=node[subpath];});if(!node)return;function populateRelevantURLs(partialURL,currentNode){const currentNodeKeys=Object.keys(currentNode);currentNodeKeys.forEach((key)=>{if(key==="_meta")return;if(currentPath==="/"&&alternateOrganizations.has(key))
return;let nextPartialURL=partialURL===""?key:`${partialURL}/${key}`;populateRelevantURLs(nextPartialURL,currentNode[key]);});if(currentNodeKeys.length===0&&partialURL){pageURLs.push(partialURL);}}
populateRelevantURLs("",node);}).then(()=>{if(pageURLs.length===0){document.getElementById("randomSelectorContainer").style.display="none";}});function goToRandomPage(){let idx=Math.floor(Math.random()*(pageURLs.length));window.open(pageURLs[idx],"_self");}</script></main></div><footer><a href=mailto:d.chege711@gmail.com>Email</a>
<a href=/about>About</a>
<a href=/search>Search</a></footer></body></html>