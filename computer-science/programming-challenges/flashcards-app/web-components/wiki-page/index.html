<!doctype html><html lang=en><head><title>Wiki Page | curiosities.dev</title><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo (https://gohugo.io/)"><meta name=description content="Overview Starting with this page because it&rsquo;s mostly static. The body is basically:
<div class=&#34;topnav&#34;>...</div> <div id=&#34;main_div&#34;> <div id=&#34;study_buddy_details&#34;> <div class=&#34;details_section&#34;>...</div> <div class=&#34;details_section&#34;>...</div> ... <div class=&#34;details_section&#34;>...</div> </div> </div> <footer>...</footer> The corresponding web components would be something along the lines of:
<nav-bar></nav-bar> <wiki-container> {Table of Contents} <wiki-section></wiki-section> <wiki-section></wiki-section> </wiki-container> <wiki-container> Maybe <wiki-section> can be a template owned by <wiki-container>? Nah, there are benefits to a separate <wiki-section> component, e.g., each component can define its title for use in the ToC...."><link rel=stylesheet type=text/css href=/css/main.min.css><link rel=preload href=/css/all_font_awesome_v5.9.min.min.css as=style onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel=stylesheet href=/css/all_font_awesome_v5.9.min.min.css></noscript><link rel="shortcut icon" href=/img/favicon_io/favicon.ico><link rel=apple-touch-icon sizes=180x180 href=/img/favicon_io/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/img/favicon_io/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/img/favicon_io/favicon-16x16.png><script async type=text/javascript src=/js/OrganizeCitations.min.js></script><script async type=text/javascript src=/js/HighlightAnchor.min.js></script><script async type=text/javascript src=/js/SummaryPageUtils.min.js></script><link rel=preload href=/css/vs.min.css as=style onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel=stylesheet href=/css/vs.min.css></noscript><script defer type=text/javascript src=/js/highlight.min.min.js onload=addURLHighlighter();></script><script defer>const hjlsURLRegex=/https?:\/\/[^\s<]+/g
const hjlsCitationRegex=/&lt;span class=&quot;citation-ref&quot;&gt;&lt;a href=&quot;(.*)&quot;&gt;&lt;\/a&gt;&lt;\/span&gt;/g
function addURLHighlighter(){hljs.addPlugin({"after:highlight":(result)=>{result.value=result.value.replaceAll(hjlsURLRegex,"<a href='$&' target='_blank'>$&</a>");console.log(result.value);result.value=result.value.replaceAll(hjlsCitationRegex,"<span class='citation-ref'><a href='$1'></a></span>");}});hljs.highlightAll();}</script></head><body><div class=container id=main_div><form action=/search method=get id=globalSearchForm><input type=text id=q name=q title="Search Query">
<input type=submit id=submitButton value=Search></form><nav aria-label=Breadcrumb class=breadcrumb><ul><li><a href=https://www.curiosities.dev/>Home</a></li><li><a href=https://www.curiosities.dev/computer-science/>Computer Science & Software Engineering</a></li><li><a href=https://www.curiosities.dev/computer-science/programming-challenges/>Programming Challenges</a></li><li><a href=https://www.curiosities.dev/computer-science/programming-challenges/flashcards-app/>Flashcards App</a></li><li><a href=https://www.curiosities.dev/computer-science/programming-challenges/flashcards-app/web-components/>Using Web Components</a></li><li class=active><a href=https://www.curiosities.dev/computer-science/programming-challenges/flashcards-app/web-components/wiki-page/>Wiki Page</a></li></ul></nav><section><header><h1>Wiki Page</h1><p class=meta>Dated Apr 18, 2024;
last modified on Thu, 18 Apr 2024</p></header><div id=toc-then-article><aside id=toc><nav id=TableOfContents><ul><li><a href=#overview>Overview</a></li><li><a href=#wiki-container><code>&lt;wiki-container></code></a></li><li><a href=#nav-bar><code>&lt;nav-bar></code></a></li></ul></nav></aside><article id=main-article><h2 id=overview>Overview</h2><p>Starting with this page because it&rsquo;s mostly static. The body is
basically:</p><div class=highlight><pre style=color:#272822;background-color:#fafafa;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-html data-lang=html><span style=color:#111>&lt;</span><span style=color:#f92672>div</span> <span style=color:#75af00>class</span><span style=color:#f92672>=</span><span style=color:#d88200>&#34;topnav&#34;</span><span style=color:#111>&gt;</span>...<span style=color:#111>&lt;/</span><span style=color:#f92672>div</span><span style=color:#111>&gt;</span>
<span style=color:#111>&lt;</span><span style=color:#f92672>div</span> <span style=color:#75af00>id</span><span style=color:#f92672>=</span><span style=color:#d88200>&#34;main_div&#34;</span><span style=color:#111>&gt;</span>
  <span style=color:#111>&lt;</span><span style=color:#f92672>div</span> <span style=color:#75af00>id</span><span style=color:#f92672>=</span><span style=color:#d88200>&#34;study_buddy_details&#34;</span><span style=color:#111>&gt;</span>
    <span style=color:#111>&lt;</span><span style=color:#f92672>div</span> <span style=color:#75af00>class</span><span style=color:#f92672>=</span><span style=color:#d88200>&#34;details_section&#34;</span><span style=color:#111>&gt;</span>...<span style=color:#111>&lt;/</span><span style=color:#f92672>div</span><span style=color:#111>&gt;</span>
    <span style=color:#111>&lt;</span><span style=color:#f92672>div</span> <span style=color:#75af00>class</span><span style=color:#f92672>=</span><span style=color:#d88200>&#34;details_section&#34;</span><span style=color:#111>&gt;</span>...<span style=color:#111>&lt;/</span><span style=color:#f92672>div</span><span style=color:#111>&gt;</span>
    ...
    <span style=color:#111>&lt;</span><span style=color:#f92672>div</span> <span style=color:#75af00>class</span><span style=color:#f92672>=</span><span style=color:#d88200>&#34;details_section&#34;</span><span style=color:#111>&gt;</span>...<span style=color:#111>&lt;/</span><span style=color:#f92672>div</span><span style=color:#111>&gt;</span>
  <span style=color:#111>&lt;/</span><span style=color:#f92672>div</span><span style=color:#111>&gt;</span>
<span style=color:#111>&lt;/</span><span style=color:#f92672>div</span><span style=color:#111>&gt;</span>
<span style=color:#111>&lt;</span><span style=color:#f92672>footer</span><span style=color:#111>&gt;</span>...<span style=color:#111>&lt;/</span><span style=color:#f92672>footer</span><span style=color:#111>&gt;</span>
</code></pre></div><p>The corresponding web components would be something along the lines of:</p><div class=highlight><pre style=color:#272822;background-color:#fafafa;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-html data-lang=html><span style=color:#111>&lt;</span><span style=color:#f92672>nav-bar</span><span style=color:#111>&gt;&lt;/</span><span style=color:#f92672>nav-bar</span><span style=color:#111>&gt;</span>
<span style=color:#111>&lt;</span><span style=color:#f92672>wiki-container</span><span style=color:#111>&gt;</span>
  {Table of Contents}
  <span style=color:#111>&lt;</span><span style=color:#f92672>wiki-section</span><span style=color:#111>&gt;&lt;/</span><span style=color:#f92672>wiki-section</span><span style=color:#111>&gt;</span>
  <span style=color:#111>&lt;</span><span style=color:#f92672>wiki-section</span><span style=color:#111>&gt;&lt;/</span><span style=color:#f92672>wiki-section</span><span style=color:#111>&gt;</span>
<span style=color:#111>&lt;/</span><span style=color:#f92672>wiki-container</span><span style=color:#111>&gt;</span>
</code></pre></div><h2 id=wiki-container><code>&lt;wiki-container></code></h2><p>Maybe <code>&lt;wiki-section></code> can be a template owned by <code>&lt;wiki-container></code>?
Nah, there are benefits to a separate <code>&lt;wiki-section></code> component, e.g.,
each component can define its title for use in the ToC. That way, new
<code>&lt;wiki-section></code>s can be added with minimal changes to
<code>&lt;wiki-container></code>.</p><p>Inheritance doesn&rsquo;t work well. Given:</p><div class=highlight><pre style=color:#272822;background-color:#fafafa;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-ts data-lang=ts><span style=color:#00a8c8>@customElement</span><span style=color:#111>(</span><span style=color:#d88200>&#39;wiki-section&#39;</span><span style=color:#111>)</span>
<span style=color:#00a8c8>export</span> <span style=color:#00a8c8>class</span> <span style=color:#75af00>WikiSection</span> <span style=color:#00a8c8>extends</span> <span style=color:#75af00>LitElement</span> <span style=color:#111>{</span>
  <span style=color:#00a8c8>get</span> <span style=color:#75af00>title</span><span style=color:#111>()</span> <span style=color:#f92672>:</span> <span style=color:#00a8c8>string</span> <span style=color:#111>{</span>
    <span style=color:#00a8c8>return</span> <span style=color:#d88200>&#39;&#39;</span><span style=color:#111>;</span>
  <span style=color:#111>}</span>

  <span style=color:#75af00>render() {</span>
    <span style=color:#00a8c8>return</span> <span style=color:#75af00>html</span><span style=color:#d88200>``</span><span style=color:#111>;</span>
  <span style=color:#111>}</span>
<span style=color:#111>}</span>
</code></pre></div><p>&mldr; how do I create a <code>MigrationWikiSection</code> that still renders a
<code>wiki-section</code>, but overrides <code>title</code> and <code>render</code>? It is feasible
though to define an interface:</p><div class=highlight><pre style=color:#272822;background-color:#fafafa;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-ts data-lang=ts><span style=color:#00a8c8>interface</span> <span style=color:#75af00>WikiSection</span> <span style=color:#111>{</span>
  <span style=color:#75af00>title</span>: <span style=color:#00a8c8>string</span><span style=color:#111>;</span>
  <span style=color:#75af00>content</span>: <span style=color:#00a8c8>TemplateResult</span><span style=color:#111>;</span>
<span style=color:#111>}</span>
</code></pre></div><p>&mldr; have individual wiki sections of the form:</p><div class=highlight><pre style=color:#272822;background-color:#fafafa;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-ts data-lang=ts><span style=color:#00a8c8>export</span> <span style=color:#00a8c8>const</span> <span style=color:#75af00>MigrationWikiSection</span>: <span style=color:#00a8c8>WikiSection</span> <span style=color:#f92672>=</span> <span style=color:#111>{</span>
  <span style=color:#75af00>title</span><span style=color:#f92672>:</span> <span style=color:#d88200>&#39;Migration to cards.curiosities.dev&#39;</span><span style=color:#111>;</span>
  <span style=color:#75af00>content</span> <span style=color:#f92672>=</span> <span style=color:#75af00>html</span><span style=color:#d88200>`...`</span><span style=color:#111>;</span>
<span style=color:#111>}</span>
</code></pre></div><p>&mldr; and now I don&rsquo;t need an explicit <code>&lt;wiki-section></code> component given
that its only use is rendering <code>WikiSection.content</code>.</p><p>Do I even need the <code>&lt;wiki-container></code> component? So far, everything in
it is known at build time, and so server-side rendering makes sense. No
need to populate the <code>WikiSection</code>s via JavaScript.</p><h2 id=nav-bar><code>&lt;nav-bar></code></h2><p>In a similar vein, what does a <code>&lt;nav-bar></code> component bring? The current
navigation bar is a partial EJS template, <code>navbar.ejs</code>.</p><p>The server already knows if the user is logged in, and decides whether
to show the <code>Log Out</code> and <code>Your Account</code> buttons.</p><p>Encapsulating the style is somewhat desirable, but I think we can
achieve that with
<a href=https://developer.mozilla.org/en-US/docs/Web/HTML/Element/template#implementing_a_declarative_shadow_dom target=_blank rel=noopener><code>&lt;template shadowrootmode="open">...&lt;/template></code>
<i class="fas fa-fw fa-external-link-alt" aria-hidden=true></i></a>.</p><p>There is a script that issues a <code>POST</code> request to <code>/logout</code>, and on
success (the return value doesn&rsquo;t matter) clears <code>localStorage</code> and sets
<code>window.location.href</code> to <code>/</code>. The last bit can be done server-side by
issuing a redirect to <code>/</code>.
<a href=https://www.curiosities.dev/computer-science/programming-challenges/flashcards-app/use-of-local-storage/ target=_blank rel=noopener>We don&rsquo;t even need <code>localStorage</code>
<i class="fas fa-fw fa-external-link-alt" aria-hidden=true></i></a>.</p><p>Ultimately, the wiki page can be completely server rendered.</p></article><div style=font-size:smaller></div></div><footer><a href=https://www.curiosities.dev/computer-science/programming-challenges/flashcards-app/web-components/app-layout/>App Layout &#187;</a></footer></section></div><footer><a href=mailto:d.chege711@gmail.com>Email</a>
<a href=/about>About</a>
<a href=/search>Search</a></footer></body></html>