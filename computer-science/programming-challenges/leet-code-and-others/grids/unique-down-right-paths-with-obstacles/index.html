<!doctype html><html lang=en><head><title>Unique Paths to the Bottom-Right Corner w/ Obstacles | curiosities.dev</title><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo (https://gohugo.io/)"><meta name=description content="Problem Starting from the top-left corner, what is the number of possible unique paths to reach the bottom-right corner, if you can only move either down or right at any point in time, and the path cannot include any square that is an obstacle? 
Solution The addition of obstacles has these implications:
 I can&rsquo;t use the combinatorics formula because the problem is no longer easy to define in general terms...."><link rel=stylesheet type=text/css href=/css/main.min.css><link rel=preload href=/css/all_font_awesome_v5.9.min.min.css as=style onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel=stylesheet href=/css/all_font_awesome_v5.9.min.min.css></noscript><link rel="shortcut icon" href=/img/favicon_io/favicon.ico><link rel=apple-touch-icon sizes=180x180 href=/img/favicon_io/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/img/favicon_io/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/img/favicon_io/favicon-16x16.png><script async type=text/javascript src=/js/OrganizeCitations.min.js></script><script async type=text/javascript src=/js/HighlightAnchor.min.js></script><script async type=text/javascript src=/js/SummaryPageUtils.min.js></script><link rel=preload href=/css/vs.min.css as=style onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel=stylesheet href=/css/vs.min.css></noscript><script defer type=text/javascript src=/js/highlight.min.min.js onload=addURLHighlighter();></script><script defer>const hjlsURLRegex=/https?:\/\/[^\s<]+/g
const hjlsCitationRegex=/&lt;span class=&quot;citation-ref&quot;&gt;&lt;a href=&quot;(.*)&quot;&gt;&lt;\/a&gt;&lt;\/span&gt;/g
function addURLHighlighter(){hljs.addPlugin({"after:highlight":(result)=>{result.value=result.value.replaceAll(hjlsURLRegex,"<a href='$&' target='_blank'>$&</a>");console.log(result.value);result.value=result.value.replaceAll(hjlsCitationRegex,"<span class='citation-ref'><a href='$1'></a></span>");}});hljs.highlightAll();}</script><script type=text/javascript async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML"></script></head><body><div class=container id=main_div><form action=/search method=get id=globalSearchForm><input type=text id=q name=q title="Search Query">
<input type=submit id=submitButton value=Search></form><nav aria-label=Breadcrumb class=breadcrumb><ul><li><a href=https://www.curiosities.dev/>Home</a></li><li><a href=https://www.curiosities.dev/computer-science/>Computer Science & Software Engineering</a></li><li><a href=https://www.curiosities.dev/computer-science/programming-challenges/>Programming Challenges</a></li><li><a href=https://www.curiosities.dev/computer-science/programming-challenges/leet-code-and-others/>Leet Code Style Questions</a></li><li><a href=https://www.curiosities.dev/computer-science/programming-challenges/leet-code-and-others/grids/>Grids</a></li><li class=active><a href=https://www.curiosities.dev/computer-science/programming-challenges/leet-code-and-others/grids/unique-down-right-paths-with-obstacles/>Unique Paths to the Bottom-Right Corner w/ Obstacles</a></li></ul></nav><section><header><h1>Unique Paths to the Bottom-Right Corner w/ Obstacles</h1><p class=meta>Dated Jul 31, 2022;
last modified on Sun, 31 Jul 2022</p></header><div id=toc-then-article><aside id=toc><nav id=TableOfContents><ul><li><a href=#problem>Problem</a></li><li><a href=#solution>Solution</a></li><li><a href=#references>References</a></li></ul></nav></aside><article id=main-article><h2 id=problem>Problem</h2><p>Starting from the top-left corner, what is the number of possible unique
paths to reach the bottom-right corner, if you can only move either down
or right at any point in time, and the path cannot include any square
that is an obstacle? <span class=citation-ref><a href=#LCUniquePathsII></a></span></p><h2 id=solution>Solution</h2><p>The addition of obstacles has these implications:</p><ul><li>I can&rsquo;t use the combinatorics formula because the problem is no longer
easy to define in general terms.</li><li>The logic in the inner loop of the DP solution needs to take the
obstacles into account.</li></ul><p><span class=tag-ref><a href=/tags/dynamic-programming>#dynamic-programming</a></span></p><div class=highlight><pre style=color:#272822;background-color:#fafafa;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-cpp data-lang=cpp><span style=color:#00a8c8>int</span> <span style=color:#75af00>uniquePathsWithObstacles</span><span style=color:#111>(</span><span style=color:#111>vector</span><span style=color:#f92672>&lt;</span><span style=color:#111>vector</span><span style=color:#f92672>&lt;</span><span style=color:#00a8c8>int</span><span style=color:#f92672>&gt;&gt;&amp;</span> <span style=color:#111>obstacleGrid</span><span style=color:#111>)</span> <span style=color:#111>{</span>
  <span style=color:#00a8c8>if</span> <span style=color:#111>(</span><span style=color:#111>obstacleGrid</span><span style=color:#111>[</span><span style=color:#ae81ff>0</span><span style=color:#111>][</span><span style=color:#ae81ff>0</span><span style=color:#111>]</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>1</span><span style=color:#111>)</span> <span style=color:#00a8c8>return</span> <span style=color:#ae81ff>0</span><span style=color:#111>;</span>

  <span style=color:#00a8c8>const</span> <span style=color:#00a8c8>int</span> <span style=color:#111>m</span> <span style=color:#f92672>=</span> <span style=color:#111>obstacleGrid</span><span style=color:#111>.</span><span style=color:#111>size</span><span style=color:#111>();</span>
  <span style=color:#00a8c8>const</span> <span style=color:#00a8c8>int</span> <span style=color:#111>n</span> <span style=color:#f92672>=</span> <span style=color:#111>obstacleGrid</span><span style=color:#111>[</span><span style=color:#ae81ff>0</span><span style=color:#111>].</span><span style=color:#111>size</span><span style=color:#111>();</span>

  <span style=color:#111>std</span><span style=color:#f92672>::</span><span style=color:#111>vector</span><span style=color:#f92672>&lt;</span><span style=color:#00a8c8>int</span><span style=color:#f92672>&gt;</span> <span style=color:#111>numPathsToPosition</span><span style=color:#111>(</span><span style=color:#111>n</span><span style=color:#111>,</span> <span style=color:#ae81ff>0</span><span style=color:#111>);</span>
  <span style=color:#111>numPathsToPosition</span><span style=color:#111>[</span><span style=color:#ae81ff>0</span><span style=color:#111>]</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span><span style=color:#111>;</span>

  <span style=color:#00a8c8>for</span> <span style=color:#111>(</span><span style=color:#00a8c8>int</span> <span style=color:#111>r</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span><span style=color:#111>;</span> <span style=color:#111>r</span> <span style=color:#f92672>&lt;</span> <span style=color:#111>m</span><span style=color:#111>;</span> <span style=color:#111>r</span><span style=color:#f92672>++</span><span style=color:#111>)</span> <span style=color:#111>{</span>
    <span style=color:#00a8c8>for</span> <span style=color:#111>(</span><span style=color:#00a8c8>int</span> <span style=color:#111>c</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span><span style=color:#111>;</span> <span style=color:#111>c</span> <span style=color:#f92672>&lt;</span> <span style=color:#111>n</span><span style=color:#111>;</span> <span style=color:#111>c</span><span style=color:#f92672>++</span><span style=color:#111>)</span> <span style=color:#111>{</span>
      <span style=color:#00a8c8>if</span> <span style=color:#111>(</span><span style=color:#00a8c8>int</span> <span style=color:#111>nextC</span> <span style=color:#f92672>=</span> <span style=color:#111>c</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span><span style=color:#111>;</span> <span style=color:#111>nextC</span> <span style=color:#f92672>&lt;</span> <span style=color:#111>n</span><span style=color:#111>)</span> <span style=color:#111>{</span>
        <span style=color:#00a8c8>if</span> <span style=color:#111>(</span><span style=color:#111>obstacleGrid</span><span style=color:#111>[</span><span style=color:#111>r</span><span style=color:#111>][</span><span style=color:#111>nextC</span><span style=color:#111>]</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>1</span><span style=color:#111>)</span> <span style=color:#111>{</span>
          <span style=color:#111>numPathsToPosition</span><span style=color:#111>[</span><span style=color:#111>nextC</span><span style=color:#111>]</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span><span style=color:#111>;</span>
        <span style=color:#111>}</span> <span style=color:#00a8c8>else</span> <span style=color:#111>{</span>
          <span style=color:#111>numPathsToPosition</span><span style=color:#111>[</span><span style=color:#111>nextC</span><span style=color:#111>]</span> <span style=color:#f92672>+=</span> <span style=color:#111>numPathsToPosition</span><span style=color:#111>[</span><span style=color:#111>c</span><span style=color:#111>];</span>
        <span style=color:#111>}</span>
      <span style=color:#111>}</span>

      <span style=color:#00a8c8>if</span> <span style=color:#111>(</span><span style=color:#00a8c8>int</span> <span style=color:#111>nextR</span> <span style=color:#f92672>=</span> <span style=color:#111>r</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span><span style=color:#111>;</span> <span style=color:#111>nextR</span> <span style=color:#f92672>&lt;</span> <span style=color:#111>m</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#111>obstacleGrid</span><span style=color:#111>[</span><span style=color:#111>nextR</span><span style=color:#111>][</span><span style=color:#ae81ff>0</span><span style=color:#111>]</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>1</span><span style=color:#111>)</span> <span style=color:#111>{</span>
        <span style=color:#111>numPathsToPosition</span><span style=color:#111>[</span><span style=color:#ae81ff>0</span><span style=color:#111>]</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span><span style=color:#111>;</span>
      <span style=color:#111>}</span>
    <span style=color:#111>}</span>
  <span style=color:#111>}</span>

  <span style=color:#00a8c8>return</span> <span style=color:#111>numPathsToPosition</span><span style=color:#111>[</span><span style=color:#111>n</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span><span style=color:#111>];</span>
<span style=color:#111>}</span>
</code></pre></div><p>The time and space usage is the same as the
<a href=https://www.curiosities.dev/computer-science/programming-challenges/leet-code-and-others/grids/unique-down-right-paths/#dynamic-programming-solution-for-moving-downright target=_blank rel=noopener>earlier DP solution
<i class="fas fa-fw fa-external-link-alt" aria-hidden=true></i></a>: \(O(m n)\) running time, and \(O(n)\) space usage. I don&rsquo;t
think we can do better.</p><div class=comment-holder><div class=comment><p>Curiously, the reference solution for <span class=citation-ref><a href=#LCUniquePathsII></a></span>uses
\(O(1)\) space by modifying the input <code>vector&lt;vector&lt;int>>&</code>. I did
not consider this as an option; I assumed the input should remain
unchanged (despite it not being a const-ref).</p></div></div><h2 id=references>References</h2><ol><li><div class=citation citation-icon-class="fas fa-fw fa-globe" cited-by-count is-main><cite id=LCUniquePathsII>Unique Paths II (Medium) - LeetCode<i>.</i></cite>
<a href=https://leetcode.com/problems/unique-paths-ii/ target=_blank rel=noopener><img src="https://www.google.com/s2/favicons?domain=leetcode.com" loading=lazy aria-hidden=true width=16 height=16>
<i>leetcode.com</i> <i class="fas fa-fw fa-external-link-alt" aria-hidden=true></i></a>.
<a href=https://leetcode.com/submissions/detail/761291032/ target=_blank rel=noopener><img src="https://www.google.com/s2/favicons?domain=leetcode.com" loading=lazy aria-hidden=true width=16 height=16>
<i>leetcode.com</i> <i class="fas fa-fw fa-external-link-alt" aria-hidden=true></i></a>.
<i class="fas fa-fw fa-globe" aria-hidden=true></i>Accessed Jul 31, 2022.</div></li></ol></article><div style=font-size:smaller><aside id=tags-holder style="margin:0 0 2%">Tags:
<a href=/tags/dynamic-programming>#dynamic-programming</a></aside><aside id=domains-holder style="margin:0 0 2%">Cited Domains:
<a href=/domains/leetcode.com style="margin:0 2px"><img src="https://www.google.com/s2/favicons?domain=leetcode.com" loading=lazy aria-hidden=true width=16 height=16>
leetcode.com</a></aside></div></div><footer><a href=https://www.curiosities.dev/computer-science/programming-challenges/leet-code-and-others/grids/4-directional-spanning-walks-with-obstacles/>&#171; Spanning 4-Directional Walks From Origin to Destination w/ Obstacles</a>
<a href=https://www.curiosities.dev/computer-science/programming-challenges/leet-code-and-others/grids/grid_game/>Minimizing Bottom-Right Paths in a 2xN Grid &#187;</a></footer></section></div><footer><a href=mailto:d.chege711@gmail.com>Email</a>
<a href=/about>About</a>
<a href=/search>Search</a></footer></body></html>