<!doctype html><html lang=en><head><title>Minimizing Bottom-Right Paths in a 2xN Grid | curiosities.dev</title><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo (https://gohugo.io/)"><meta name=description content="Grid Game - LeetCode.  leetcode.com  .  Accessed Jul 20, 2024.  Problem You are given a 0-indexed 2D array grid of size \(2 \times n\), where grid[r][c] represents the number of points at position \((r, c)\) on the matrix. Two robots are playing a game on this matrix.
Both robots initially start at \((0, 0)\) and want to reach \((1, n-1)\). Each robot may only move to the right or down...."><meta property="og:title" content="Minimizing Bottom-Right Paths in a 2xN Grid"><meta property="og:description" content="Grid Game - LeetCode.  leetcode.com  .  Accessed Jul 20, 2024.  Problem You are given a 0-indexed 2D array grid of size \(2 \times n\), where grid[r][c] represents the number of points at position \((r, c)\) on the matrix. Two robots are playing a game on this matrix.
Both robots initially start at \((0, 0)\) and want to reach \((1, n-1)\). Each robot may only move to the right or down...."><meta property="og:type" content="website"><meta property="og:url" content="https://www.curiosities.dev/computer-science/programming-challenges/leet-code-and-others/grids/grid_game/"><meta property="og:site_name" content="curiosities.dev"><link rel=stylesheet type=text/css href=/css/main.min.css><link rel=preload href=/css/all_font_awesome_v5.9.min.min.css as=style onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel=stylesheet href=/css/all_font_awesome_v5.9.min.min.css></noscript><link rel="shortcut icon" href=/img/favicon_io/favicon.ico><link rel=apple-touch-icon sizes=180x180 href=/img/favicon_io/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/img/favicon_io/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/img/favicon_io/favicon-16x16.png><script async type=text/javascript src=/js/OrganizeCitations.min.js></script><script async type=text/javascript src=/js/HighlightAnchor.min.js></script><script async type=text/javascript src=/js/SummaryPageUtils.min.js></script><script type=text/javascript async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML"></script><link rel=preload href=/css/vs.min.css as=style onload="this.onload=null;this.rel='stylesheet'"><noscript><link rel=stylesheet href=/css/vs.min.css></noscript><script defer type=text/javascript src=/js/highlight.min.min.js onload=addURLHighlighter();></script><script defer>const hjlsURLRegex=/https?:\/\/[^\s<]+/g
const hjlsCitationRegex=/&lt;span class=&quot;citation-ref&quot;&gt;&lt;a href=&quot;(.*)&quot;&gt;&lt;\/a&gt;&lt;\/span&gt;/g
function addURLHighlighter(){hljs.addPlugin({"after:highlight":(result)=>{result.value=result.value.replaceAll(hjlsURLRegex,"<a href='$&' target='_blank'>$&</a>");console.log(result.value);result.value=result.value.replaceAll(hjlsCitationRegex,"<span class='citation-ref'><a href='$1'></a></span>");}});hljs.highlightAll();}</script></head><body><div class=container id=main_div><form action=/search method=get id=globalSearchForm><input type=text id=q name=q title="Search Query">
<input type=submit id=submitButton value=Search></form><nav aria-label=Breadcrumb class=breadcrumb><ul><li><a href=https://www.curiosities.dev/>Home</a></li><li><a href=https://www.curiosities.dev/computer-science/>Computer Science & Software Engineering</a></li><li><a href=https://www.curiosities.dev/computer-science/programming-challenges/>Programming Challenges</a></li><li><a href=https://www.curiosities.dev/computer-science/programming-challenges/leet-code-and-others/>Leet Code Style Questions</a></li><li><a href=https://www.curiosities.dev/computer-science/programming-challenges/leet-code-and-others/grids/>Grids</a></li><li class=active><a href=https://www.curiosities.dev/computer-science/programming-challenges/leet-code-and-others/grids/grid_game/>Minimizing Bottom-Right Paths in a 2xN Grid</a></li></ul></nav><section><header><h1>Minimizing Bottom-Right Paths in a 2xN Grid</h1><p class=meta>Dated Jul 20, 2024;
last modified on Sat, 20 Jul 2024</p></header><div id=toc-then-article><aside id=toc><nav id=TableOfContents><ul><li><a href=#problem>Problem</a></li><li><a href=#buggy-implementation>Buggy Implementation</a></li><li><a href=#learnings-from-published-solution>Learnings from Published Solution</a></li><li><a href=#references>References</a></li></ul></nav></aside><article id=main-article><div class=citation citation-icon-class="fas fa-fw fa-globe" cited-by-count is-main><cite id=gridGame>Grid Game - LeetCode<i>.</i></cite>
<a href=https://leetcode.com/problems/grid-game/description/ target=_blank rel=noopener><img src="https://www.google.com/s2/favicons?domain=leetcode.com" loading=lazy aria-hidden=true width=16 height=16>
<i>leetcode.com</i> <i class="fas fa-fw fa-external-link-alt" aria-hidden=true></i></a>.
<i class="fas fa-fw fa-globe" aria-hidden=true></i>Accessed Jul 20, 2024.</div><h2 id=problem>Problem</h2><p>You are given a 0-indexed 2D array <code>grid</code> of size \(2 \times n\),
where <code>grid[r][c]</code> represents the number of points at position \((r,
c)\) on the matrix. Two robots are playing a game on this matrix.</p><p>Both robots initially start at \((0, 0)\) and want to reach \((1,
n-1)\). Each robot may only move to the right or down.</p><p>At the start of the game, the first robot moves from \((0, 0)\) to
\((1, n-1)\), collecting all the points from the cells on its path.
For all cells \((r, c)\) traversed on the path <code>grid[r][c]</code> is set to
\(0\). Then, the second robot moves from \((0, 0)\) to \((1,
n-1)\), collecting the points on its path. Note that their paths may
intersect with one another.</p><p>The first robot wants to minimize the number of points collected by the
second robot. In contrast, the second robot wants to maximize the number
of points it collects. If both robots play optimally, return the number
of points collected by the second robot.</p><figure><img src=/img/computer-science/programming-challenges/leet-code-and-others/grids/grid_game/sample_input.png alt="The input grid is \([[2, 5, 4], [1, 5, 1]]\). The first robot takes the optimal path in red resulting in \([[0, 0, 4], [1, 0, 0]]\). The second robot will take the optimal path collecting \(0 + 0 + 4 + 0 = 4\)."><figcaption><p>The input grid is \([[2, 5, 4], [1, 5, 1]]\). The first robot takes the optimal path in red resulting in \([[0, 0, 4], [1, 0, 0]]\). The second robot will take the optimal path collecting \(0 + 0 + 4 + 0 = 4\).</p></figcaption></figure><p>Constraints:</p><ul><li><code>grid.length == 2</code></li><li><code>n == grid[r].length</code></li><li>\(1 \le n \le 5 \cdot 10^4\)</li><li>\(1 \le \texttt{grid[r][c]} \le 10^5\)</li></ul><h2 id=buggy-implementation>Buggy Implementation</h2><p>Given a <code>grid</code>, computing the maximum score that we can collect is a
dynamic programming problem. At each <code>grid[r][c]</code>, we pick the higher
score from either the path that led us to <code>grid[r-1][c]</code> or
<code>grid[r][c-1]</code>. This technique solves the second part of the problem.</p><p>Is minimizing \(R_2\)&rsquo;s score equivalent to maximizing \(R_1\)&rsquo;s
score? Suppose there are \(P\) paths to \((1, n-1)\), where some
path \(p_{max}\) has the highest score. \(R_1\) needs to take away
\(p_{max}\) but is that sufficient? Can \(R_1\) choose a path that
makes \(p_{max}\) impossible for \(R_2\) without necessarily taking
\(p_{max}\) itself? Maximizing \(R_1\)&rsquo;s score is not the optimal
strategy as shown by this failing code:</p><details><summary>Buggy Implementation</summary><div class=highlight><pre style=color:#272822;background-color:#fafafa;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-py data-lang=py><span style=color:#00a8c8>def</span> <span style=color:#75af00>grid_game</span><span style=color:#111>(</span><span style=color:#111>grid</span><span style=color:#111>:</span> <span style=color:#111>List</span><span style=color:#111>[</span><span style=color:#111>List</span><span style=color:#111>[</span><span style=color:#111>int</span><span style=color:#111>]])</span> <span style=color:#f92672>-&gt;</span> <span style=color:#111>int</span><span style=color:#111>:</span>
    <span style=color:#00a8c8>def</span> <span style=color:#75af00>maximum_path</span><span style=color:#111>(</span><span style=color:#111>r</span><span style=color:#111>,</span> <span style=color:#111>c</span><span style=color:#111>)</span> <span style=color:#f92672>-&gt;</span> <span style=color:#111>GridPath</span><span style=color:#111>:</span>
        <span style=color:#75715e># Base case: We need to pick up the points at (0, 0).</span>
        <span style=color:#00a8c8>if</span> <span style=color:#111>r</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span> <span style=color:#f92672>and</span> <span style=color:#111>c</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span><span style=color:#111>:</span>
            <span style=color:#00a8c8>return</span> <span style=color:#111>GridPath</span><span style=color:#111>([(</span><span style=color:#111>r</span><span style=color:#111>,</span> <span style=color:#111>c</span><span style=color:#111>)],</span> <span style=color:#111>grid</span><span style=color:#111>[</span><span style=color:#111>r</span><span style=color:#111>][</span><span style=color:#111>c</span><span style=color:#111>])</span>

        <span style=color:#111>best_score</span> <span style=color:#f92672>=</span> <span style=color:#f92672>-</span><span style=color:#111>inf</span>
        <span style=color:#111>best_path</span><span style=color:#111>:</span> <span style=color:#111>List</span><span style=color:#111>[</span><span style=color:#111>Tuple</span><span style=color:#111>[</span><span style=color:#111>int</span><span style=color:#111>,</span> <span style=color:#111>int</span><span style=color:#111>]]</span> <span style=color:#f92672>=</span> <span style=color:#111>[]</span>

        <span style=color:#75715e># Choose the best option from the top and left neighbors.</span>
        <span style=color:#00a8c8>for</span> <span style=color:#111>(</span><span style=color:#111>dr</span><span style=color:#111>,</span> <span style=color:#111>dc</span><span style=color:#111>)</span> <span style=color:#f92672>in</span> <span style=color:#111>[(</span><span style=color:#ae81ff>0</span><span style=color:#111>,</span> <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span><span style=color:#111>),</span> <span style=color:#111>(</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span><span style=color:#111>,</span> <span style=color:#ae81ff>0</span><span style=color:#111>)]:</span>
            <span style=color:#111>new_r</span><span style=color:#111>,</span> <span style=color:#111>new_c</span> <span style=color:#f92672>=</span> <span style=color:#111>r</span> <span style=color:#f92672>+</span> <span style=color:#111>dr</span><span style=color:#111>,</span> <span style=color:#111>c</span> <span style=color:#f92672>+</span> <span style=color:#111>dc</span>
            <span style=color:#00a8c8>if</span> <span style=color:#111>new_r</span> <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>0</span> <span style=color:#f92672>or</span> <span style=color:#111>new_c</span> <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>0</span><span style=color:#111>:</span>
                <span style=color:#00a8c8>continue</span>
            <span style=color:#111>path</span><span style=color:#111>,</span> <span style=color:#111>score</span> <span style=color:#f92672>=</span> <span style=color:#111>maximum_path</span><span style=color:#111>(</span><span style=color:#111>new_r</span><span style=color:#111>,</span> <span style=color:#111>new_c</span><span style=color:#111>)</span>
            <span style=color:#00a8c8>if</span> <span style=color:#111>score</span> <span style=color:#f92672>&gt;</span> <span style=color:#111>best_score</span><span style=color:#111>:</span>
                <span style=color:#111>best_score</span> <span style=color:#f92672>=</span> <span style=color:#111>score</span>
                <span style=color:#111>best_path</span> <span style=color:#f92672>=</span> <span style=color:#111>path</span>

        <span style=color:#00a8c8>return</span> <span style=color:#111>GridPath</span><span style=color:#111>(</span><span style=color:#111>best_path</span> <span style=color:#f92672>+</span> <span style=color:#111>[(</span><span style=color:#111>r</span><span style=color:#111>,</span> <span style=color:#111>c</span><span style=color:#111>)],</span> <span style=color:#111>best_score</span> <span style=color:#f92672>+</span> <span style=color:#111>grid</span><span style=color:#111>[</span><span style=color:#111>r</span><span style=color:#111>][</span><span style=color:#111>c</span><span style=color:#111>])</span>

    <span style=color:#75715e># Let the first robot collect the max points.</span>
    <span style=color:#111>path_r1</span><span style=color:#111>,</span> <span style=color:#111>_</span> <span style=color:#f92672>=</span> <span style=color:#111>maximum_path</span><span style=color:#111>(</span><span style=color:#ae81ff>1</span><span style=color:#111>,</span> <span style=color:#111>n</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span><span style=color:#111>)</span>
    <span style=color:#00a8c8>for</span> <span style=color:#111>r</span><span style=color:#111>,</span> <span style=color:#111>c</span> <span style=color:#f92672>in</span> <span style=color:#111>path_r1</span><span style=color:#111>:</span>
        <span style=color:#111>grid</span><span style=color:#111>[</span><span style=color:#111>r</span><span style=color:#111>][</span><span style=color:#111>c</span><span style=color:#111>]</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>

    <span style=color:#75715e># Then have the second robot try its best.</span>
    <span style=color:#111>_</span><span style=color:#111>,</span> <span style=color:#111>score_r2</span> <span style=color:#f92672>=</span> <span style=color:#111>maximum_path</span><span style=color:#111>(</span><span style=color:#ae81ff>1</span><span style=color:#111>,</span> <span style=color:#111>n</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span><span style=color:#111>)</span>
    <span style=color:#00a8c8>return</span> <span style=color:#111>score_r2</span>
</code></pre></div></details><h2 id=learnings-from-published-solution>Learnings from Published Solution</h2><p><span class=citation-ref><a href=#hiepit2021></a></span></p><p>Here&rsquo;s a simpler counter-example for the hypothesis that maximizing
\(R_1\)&rsquo;s score minimizes \(R_2\)&rsquo;s score:</p><pre><code class=language-log data-lang=log>10 50 50 30 --&gt; R1 collects 150 --&gt; 00 00 00 00 --&gt; R2 collects 110
50 50 10 10                         50 50 10 00
</code></pre><p>If \(R_1\) can be less greedy, then it can force a lower score for
\(R_2\):</p><pre><code class=language-log data-lang=log>10 50 50 30 --&gt; R1 collects 120 --&gt; 00 00 50 30 --&gt; R2 collects 80
50 50 10 10                         50 00 00 00
</code></pre><p>\(R_1\) and \(R_2\) can move down only once. There are \(N\)
possible paths.</p><figure><img src=/img/computer-science/programming-challenges/leet-code-and-others/grids/grid_game/hiepit_explanation.png alt="For each path traversed by \(R_1\), the max points that \(R_2\) can get are either the points left on the top row, or those left on the bottom row. Credits: hiepit2021"><figcaption><p>For each path traversed by \(R_1\), the max points that \(R_2\) can get are either the points left on the top row, or those left on the bottom row. Credits: hiepit2021</p></figcaption></figure><details><summary>Implementation</summary><div><div class=highlight><pre style=color:#272822;background-color:#fafafa;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-py data-lang=py><span style=color:#d88200>&#34;&#34;&#34;
</span><span style=color:#d88200>https://leetcode.com/problems/grid-game/description/
</span><span style=color:#d88200>&#34;&#34;&#34;</span>

<span style=color:#f92672>from</span> <span style=color:#111>typing</span> <span style=color:#f92672>import</span> <span style=color:#111>List</span>


<span style=color:#00a8c8>def</span> <span style=color:#75af00>grid_game</span><span style=color:#111>(</span><span style=color:#111>grid</span><span style=color:#111>:</span> <span style=color:#111>List</span><span style=color:#111>[</span><span style=color:#111>List</span><span style=color:#111>[</span><span style=color:#111>int</span><span style=color:#111>]])</span> <span style=color:#f92672>-&gt;</span> <span style=color:#111>int</span><span style=color:#111>:</span>
    <span style=color:#d88200>&#34;&#34;&#34;
</span><span style=color:#d88200>    Given a `2 x n` grid, find the maximum score obtainable by a robot `r_2`
</span><span style=color:#d88200>    if there is a robot `r_1` that takes a first pass at the grid and zeroes
</span><span style=color:#d88200>    out one path from (0, 0) to (1, n-1). Each robot starts from (0, 0) and can
</span><span style=color:#d88200>    only move right/down.
</span><span style=color:#d88200>    &#34;&#34;&#34;</span>
    <span style=color:#00a8c8>assert</span> <span style=color:#111>len</span><span style=color:#111>(</span><span style=color:#111>grid</span><span style=color:#111>)</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>2</span><span style=color:#111>,</span> <span style=color:#111>f</span><span style=color:#d88200>&#34;Expected 2 rows, found {len(grid)}&#34;</span>

    <span style=color:#111>n</span> <span style=color:#f92672>=</span> <span style=color:#111>len</span><span style=color:#111>(</span><span style=color:#111>grid</span><span style=color:#111>[</span><span style=color:#ae81ff>0</span><span style=color:#111>])</span>
    <span style=color:#00a8c8>assert</span> <span style=color:#111>all</span><span style=color:#111>(</span><span style=color:#111>len</span><span style=color:#111>(</span><span style=color:#111>row</span><span style=color:#111>)</span> <span style=color:#f92672>==</span> <span style=color:#111>n</span> <span style=color:#00a8c8>for</span> <span style=color:#111>row</span> <span style=color:#f92672>in</span> <span style=color:#111>grid</span><span style=color:#111>),</span> <span style=color:#111>f</span><span style=color:#d88200>&#34;All rows must have length {n}&#34;</span>

    <span style=color:#75715e># Set the initial candidates</span>
    <span style=color:#111>top_sum</span> <span style=color:#f92672>=</span> <span style=color:#111>sum</span><span style=color:#111>(</span><span style=color:#111>grid</span><span style=color:#111>[</span><span style=color:#ae81ff>0</span><span style=color:#111>][</span><span style=color:#ae81ff>1</span><span style=color:#111>:])</span>
    <span style=color:#111>bottom_sum</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>
    <span style=color:#111>best_r2_score</span> <span style=color:#f92672>=</span> <span style=color:#111>top_sum</span>

    <span style=color:#75715e># Evaluate the rest of the N-1 paths and minimize `best_r2_score`.</span>
    <span style=color:#00a8c8>for</span> <span style=color:#111>drop_idx</span> <span style=color:#f92672>in</span> <span style=color:#111>range</span><span style=color:#111>(</span><span style=color:#ae81ff>1</span><span style=color:#111>,</span> <span style=color:#111>n</span><span style=color:#111>):</span>
        <span style=color:#111>top_sum</span> <span style=color:#f92672>-=</span> <span style=color:#111>grid</span><span style=color:#111>[</span><span style=color:#ae81ff>0</span><span style=color:#111>][</span><span style=color:#111>drop_idx</span><span style=color:#111>]</span>
        <span style=color:#111>bottom_sum</span> <span style=color:#f92672>+=</span> <span style=color:#111>grid</span><span style=color:#111>[</span><span style=color:#ae81ff>1</span><span style=color:#111>][</span><span style=color:#111>drop_idx</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span><span style=color:#111>]</span>
        <span style=color:#111>best_r2_score</span> <span style=color:#f92672>=</span> <span style=color:#111>min</span><span style=color:#111>(</span><span style=color:#111>best_r2_score</span><span style=color:#111>,</span> <span style=color:#111>max</span><span style=color:#111>(</span><span style=color:#111>top_sum</span><span style=color:#111>,</span> <span style=color:#111>bottom_sum</span><span style=color:#111>))</span>

    <span style=color:#00a8c8>return</span> <span style=color:#111>best_r2_score</span>
</code></pre></div></div></details><h2 id=references>References</h2><ol><li><div class=citation citation-icon-class="fas fa-fw fa-globe" cited-by-count is-main><cite id=hiepit2021>[C++/Java/Python] Robot1 Minimize TopSum and BottomSum of Robot 2 - Picture Explained<i>.</i></cite>
<a href=https://leetcode.com/problems/grid-game/solutions/1486340/c-java-python-robot1-minimize-topsum-and-bottomsum-of-robot-2-picture-explained target=_blank rel=noopener><img src="https://www.google.com/s2/favicons?domain=leetcode.com" loading=lazy aria-hidden=true width=16 height=16>
<i>leetcode.com</i> <i class="fas fa-fw fa-external-link-alt" aria-hidden=true></i></a>.
Sep 25, 2021.
<i class="fas fa-fw fa-globe" aria-hidden=true></i>Accessed Jul 20, 2024.</div></li></ol></article><div style=font-size:smaller><aside id=domains-holder style="margin:0 0 2%">Cited Domains:
<a href=/domains/leetcode.com style="margin:0 2px"><img src="https://www.google.com/s2/favicons?domain=leetcode.com" loading=lazy aria-hidden=true width=16 height=16>
leetcode.com</a></aside></div></div><footer><a href=https://www.curiosities.dev/computer-science/programming-challenges/leet-code-and-others/grids/unique-down-right-paths-with-obstacles/>&#171; Unique Paths to the Bottom-Right Corner w/ Obstacles</a>
<a href=https://www.curiosities.dev/computer-science/programming-challenges/leet-code-and-others/grids/queens_attack_ii/>Queen's Movements on a Chessboard w/ Obstacles &#187;</a></footer></section></div><footer><a href=/about>About</a>
<a href=/search>Search</a></footer></body></html>